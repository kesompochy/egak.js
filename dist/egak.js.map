{"version":3,"file":"egak.js","mappings":"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AC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACvB,OAAO;QACH,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;QACjC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;KACpC,CAAC;AACN,CAAC;AAkBmD,4BAAQ;AAhB5D,SAAS,YAAY;IAAC,aAA4B;SAA5B,UAA4B,EAA5B,qBAA4B,EAA5B,IAA4B;QAA5B,wBAA4B;;IAC9C,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACjB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,GAAG,GAAC,GAAG,CAAC,MAAM,GAAC,CAAC,EAAC,CAAC,GAAC,GAAG,EAAC,CAAC,EAAE,EAAC;QACpC,GAAG,GAAG,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;KACjC;IACD,OAAO,GAAG,CAAC;AACf,CAAC;AAU6D,oCAAY;AAR1E,SAAS,QAAQ;IACb,OAAO;QACH,CAAC,EAAE,CAAC,EAAE,CAAC;QACP,CAAC,EAAE,CAAC,EAAE,CAAC;QACP,CAAC,EAAE,CAAC,EAAE,CAAC;KACV,CAAC;AACN,CAAC;AAE2E,4BAAQ;;;;;;;;;;;;;;AClFpF,SAAgB,WAAW,CAAC,EAA0B;IAClD,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IACpB,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,mBAAmB,CAAC,CAAC;IACnD,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;AAC5D,CAAC;AAJD,kCAIC;;;;;;;;;;;;;;ACJD,SAAU,YAAY,CAAC,EAA0B,EAAE,IAAY,EAAE,GAAQ;IACrE,IAAM,MAAM,GAAG,EAAE,CAAC,YAAY,EAAG,CAAC;IAClC,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IAC5B,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;IACzC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IAErC,OAAO,MAAM,CAAC;AAClB,CAAC;AAED,SAAgB,wBAAwB,CAAC,EAA0B,EAAE,OAAqB,EAAE,kBAA0B,EAAE,eAAuB;IAC3I,IAAM,sBAAsB,GAAG,EAAE,CAAC,iBAAiB,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;IACjF,IAAM,sBAAsB,GAAG,EAAE,CAAC,iBAAiB,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;IAC9E,EAAE,CAAC,uBAAuB,CAAC,sBAAsB,CAAC,CAAC;IACnD,EAAE,CAAC,uBAAuB,CAAC,sBAAsB,CAAC,CAAC;IAEnD,IAAM,YAAY,GAAG,CAAC,CAAC;IACvB,IAAM,WAAW,GAAG,CAAC,CAAC;IACtB,IAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC;IACtB,IAAM,SAAS,GAAG,KAAK,CAAC;IACxB,IAAM,MAAM,GAAG,YAAY,CAAC,iBAAiB,GAAG,CAAC,YAAY,GAAG,WAAW,CAAC,CAAC;IAC7E,IAAM,MAAM,GAAG,YAAY,CAAC,iBAAiB,GAAG,YAAY,CAAC;IAE7D,IAAM,YAAY,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC;IACvC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;IAC7C,EAAE,CAAC,mBAAmB,CAAC,sBAAsB,EAAE,YAAY,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;IACzF,EAAE,CAAC,mBAAmB,CAAC,sBAAsB,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IAC7F,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACrC,OAAO,YAAa,CAAC;AACzB,CAAC;AAnBD,4DAmBC;AAED,SAAgB,sBAAsB,CAAC,EAA0B;IAC7D,IAAM,OAAO,GAAG,IAAI,WAAW,CAC3B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;QACP,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,IAAM,WAAW,GAAG,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC;IACvE,OAAO,WAAW,CAAC;AACvB,CAAC;AAND,wDAMC;;;;;;;;;;;;;;ACpCD,SAAgB,WAAW,CAAC,EAA0B,EAAE,KAAoD;IACxG,IAAM,SAAS,GAAG,GAAG,CAAC;IAEtB,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAC,SAAS,CAAC;IAC5B,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAC,SAAS,CAAC;IAC5B,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,GAAC,SAAS,CAAC;IAC5B,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IAC9C,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1B,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;AAClC,CAAC;AATD,kCASC;AAED,SAAgB,YAAY,CAAC,EAA0B,EAAE,UAAkB;IACvE,IAAM,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;IACzB,IAAM,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;IACtC,IAAM,WAAW,GAAG,MAAM,CAAC,YAAY,CAAC;IAExC,MAAM,CAAC,KAAK,GAAG,UAAU,GAAG,UAAU,CAAC;IACvC,MAAM,CAAC,MAAM,GAAG,WAAW,GAAG,UAAU,CAAC;IAEzC,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;AACnD,CAAC;AATD,oCASC;;;;;;;;;;;;;;ACpBD,0FAA0C;AAOjC,+FAPA,uBAAa,QAOA;AANtB,uFAA4E;AAO5C,0GAPvB,iCAAwB,QAOuB;AAAhD,wGAP2B,+BAAsB,QAO3B;AAN9B,0FAAuD;AAO/C,+FAPA,uBAAa,QAOA;AAAE,+FAPA,uBAAa,QAOA;AANpC,oFAAsC;AAO9B,6FAPC,mBAAW,QAOD;AANnB,uFAAqD;AAO7C,6FAPC,oBAAW,QAOD;AAAE,8FAPC,qBAAY,QAOD;AANjC,0FAA+C;AAOvC,oGAPC,4BAAkB,QAOD;;;;;;;;;;;;;;ACZ1B,SAAS,YAAY,CAAC,EAAyB,EAAE,IAAY,EAAE,GAAW;IACtE,IAAM,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IACrC,IAAG,CAAC,MAAM,EAAC;QACP,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;KAChD;IACD,EAAE,CAAC,YAAY,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;IAC7B,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAEzB,IAAG,CAAC,EAAE,CAAC,kBAAkB,CAAC,MAAM,EAAE,EAAE,CAAC,cAAc,CAAC,EAAC;QACjD,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;QACzC,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;KAC3B;IAED,OAAO,MAAM,CAAC;AAGlB,CAAC;AAGD,SAAS,mBAAmB,CAAC,EAA0B;IAAE,iBAAyB;SAAzB,UAAyB,EAAzB,qBAAyB,EAAzB,IAAyB;QAAzB,gCAAyB;;IAC9E,IAAM,OAAO,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC;IACnC,IAAG,CAAC,OAAO,EAAC;QACR,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;KAC/C;IAED,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,GAAG,GAAC,OAAO,CAAC,MAAM,EAAC,CAAC,GAAC,GAAG,EAAC,CAAC,EAAE,EAAC;QACtC,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KACxC;IACD,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAExB,IAAG,CAAC,EAAE,CAAC,mBAAmB,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,EAAC;QAChD,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,CAAC;QAC3C,EAAE,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;KAC7B;IAED,OAAO,OAAO,CAAC;AAEnB,CAAC;AAGD,SAAgB,aAAa,CAAC,EAA0B,EAAE,OAAe,EAAE,OAAe;IACtF,IAAM,OAAO,GAAG,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;IAC5D,IAAM,OAAO,GAAG,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;IAC9D,IAAM,OAAO,GAAG,mBAAmB,CAAC,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;IAE1D,OAAO,OAAO,CAAC;AACnB,CAAC;AAND,sCAMC;;;;;;;;;;;;;;AC5CD,SAAgB,aAAa,CAAC,EAA0B,EAAE,KAAa;IACnE,IAAM,OAAO,GAAG,EAAE,CAAC,aAAa,EAAG,CAAC;IACpC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAEvC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC;IACrE,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC;IAErE,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,kBAAkB,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAClE,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,kBAAkB,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC;IAElE,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAEpC,OAAO,OAAO,CAAC;AACnB,CAAC;AAbD,sCAaC;AAED,SAAgB,aAAa,CAAC,EAA0B,EAAE,OAAqB,EAAE,GAAyB;IAAgB,CAAC;IACvH,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACvC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;IACzE,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;IACjC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAEpC,OAAO,OAAO,CAAC;AACnB,CAAC;AAPD,sCAOC;;;;;;;;;;;;;;ACxBD,SAAgB,kBAAkB,CAAC,EAA0B,EAAE,OAAqB,EAAE,WAAmB;IACrG,OAAO,EAAE,CAAC,kBAAkB,CAAC,OAAO,EAAE,WAAW,CAAE,CAAC;AACxD,CAAC;AAFD,gDAEC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAD,yGAAwC;AAGxC,oLAAuE;AACvE,0LAAyE;AACzE,oGAAqC;AAErC,qFAAgC;AAWhC,IAAM,aAAa,GAAG,IAAI,CAAC;AAE3B;IAYI,kBAAY,MAAuB;QANnC,eAAU,GAAW,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC;QASvC,UAAM,GAAmB,MAAM,OAAzB,EAAE,KAAK,GAAY,MAAM,MAAlB,EAAE,MAAM,GAAI,MAAM,OAAV,CAAW;QAEvC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,IAAI,CAAC,WAAW,GAAG,EAAC,KAAK,EAAE,KAAM,EAAE,MAAM,EAAE,MAAO,EAAC,CAAC;QAEpD,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAE,CAAC;QAC5C,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QACnB,iBAAO,CAAC,EAAE,GAAG,EAAE,CAAC;QAEhB,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,UAAU;QACV,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAExB,OAAO;QACP,IAAM,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,EAAE,EAAE,mCAAa,EAAE,qCAAa,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAExB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,wBAAwB,CAAC,EAAE,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,CAAC,CAAC;QAE/F,IAAI,CAAC,yBAAyB,GAAG,OAAO,CAAC,kBAAkB,CAAC,EAAE,EAAE,OAAO,EAAE,aAAa,GAAC,gBAAgB,CAAC,CAAC;QACzG,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,kBAAkB,CAAC,EAAE,EAAE,OAAO,EAAE,aAAa,GAAC,SAAS,CAAC,CAAC;QAEhG,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC,kBAAkB,CAAC,EAAE,EAAE,OAAO,EAAE,aAAa,GAAC,SAAS,CAAC,CAAC;IACpG,CAAC;IAED,wBAAK,GAAL,UAAM,CAAS,EAAE,CAAS,EAAE,CAAS,EAAE,CAAU;QAC7C,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC,CAAC;IAC3D,CAAC;IACD,+BAAY,GAAZ;QACI,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACnD,CAAC;IACD,sBAAI,2BAAK;aAAT,UAAU,KAAa;YACnB,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;QACnC,CAAC;;;OAAA;IACD,sBAAI,4BAAM;aAAV,UAAW,KAAa;YACpB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QACpC,CAAC;;;OAAA;IAED,wBAAK,GAAL;QACI,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;IACpB,CAAC;IAED,yBAAM,GAAN,UAAO,GAAU;QACb,GAAG,CAAC,kBAAkB,EAAE,CAAC;QAEzB,IAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;QAC5B,IAAG,OAAO,EAAC;YACP,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;SAC1B;QAED,IAAG,GAAG,CAAC,WAAW,EAAC;YACf,GAAG,CAAC,YAAY,EAAE,CAAC;YACnB,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC;SAC3B;QACD,IAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;QAC9B,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,GAAG,GAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,GAAC,GAAG,EAAC,CAAC,EAAE,EAAC;YACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;SAC5B;IACL,CAAC;IAED,+BAAY,GAAZ,UAAa,MAAa;QACtB,IAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAG,CAAC,OAAO,EAAC;YACR,OAAO;SACV;QAED,IAAM,SAAS,GAAG,OAAO,CAAC,SAAU,CAAC;QAErC,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QACnB,IAAM,sBAAsB,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAE5D,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE7B,IAAM,aAAa,GAAG,CAAC,CAAC;QACxB,EAAE,CAAC,SAAS,CAAC,sBAAsB,EAAE,aAAa,CAAC,CAAC;QACpD,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,QAAQ,GAAG,aAAa,CAAC,CAAC;QAC9C,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QAEzC,IAAM,UAAU,GAAE,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACjF,IAAM,cAAc,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACpE,IAAM,cAAc,GAAG,EAAE,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,eAAe,EAAE,MAAM,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC;QAC7G,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,yBAAyB,EAAE,KAAK,EAAE,cAAc,CAAC,CAAC;QAE3E,IAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAM,YAAY,GAAG,MAAM,CAAC,aAAa,CAAC;QAC1C,IAAM,YAAY,GAAG,YAAY,GAAC,OAAO,CAAC;QAC1C,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,uBAAuB,EAAE,YAAY,CAAC,CAAC;QAEzD,IAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC;QACxC,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;QAE7C,IAAM,WAAW,GAAG,EAAC,CAAC,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,OAAO,CAAC,MAAM,EAAC,CAAC;QAE1D,IAAM,QAAQ,GAAG;YACb,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,WAAW,CAAC,CAAC;YAChB,CAAC,EAAE,CAAC;YACJ,WAAW,CAAC,CAAC,EAAE,CAAC;YAChB,CAAC,EAAE,CAAC;YACJ,WAAW,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;YAC5B,CAAC,EAAE,CAAC;SACP,CAAC;QACF,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,YAAY,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC;QAE5E,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;QACtC,IAAM,IAAI,GAAG,CAAC,CAAC;QACf,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAC;QACpD,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;QAE1D,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAC7C,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QACrC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IACxC,CAAC;IACL,eAAC;AAAD,CAAC;;;;;;;;;;;;;;AC1JD;IAAA;IASA,CAAC;IAPU,eAAO,GAAd;QACI,IAAG,OAAO,CAAC,EAAE,EAAC;YACV,OAAO,OAAO,CAAC,EAAE,CAAC;SACrB;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;SAClD;IACL,CAAC;IACL,cAAC;AAAD,CAAC;;;;;;;;;;;;;;ACTD;IAAA;IAGA,CAAC;IAFU,YAAC,GAAW,CAAC,CAAC;IACd,YAAC,GAAW,CAAC,CAAC;IACzB,iBAAC;CAAA;qBAHoB,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACC/B,yGAAwC;AACxC,8GAA+C;AAI/C,IAAY,UAGX;AAHD,WAAY,UAAU;IAClB,+BAAiB;IACjB,iCAAmB;AACvB,CAAC,EAHW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAGrB;AAAA,CAAC;AAEF,0IAAuE;AAEvE;IAMI,iBAAY,GAAqC,EAAE,SAAyC;QAAzC,wCAAuB,UAAU,CAAC,OAAO;QAJpF,WAAM,GAAW,CAAC,CAAC;QACnB,YAAO,GAAW,CAAC,CAAC;QACpB,WAAM,GAAsB,IAAI,2CAAiB,EAAE,CAAC;QAC5D,cAAS,GAAe,UAAU,CAAC,OAAO,CAAC;QAEvC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAM,EAAE,GAAG,iBAAO,CAAC,OAAO,EAAE,CAAC;QAC7B,IAAM,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;QAErD,IAAG,GAAG,EAAC;YACH,IAAI,CAAC,SAAS,GAAI,OAAO,CAAC,aAAa,CAAC,EAAE,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;YAE1D,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC;SAC7B;aAAM;YACH,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;SAC5B;IAEL,CAAC;IACD,sBAAI,4BAAO;aAAX,UAAY,GAAyB;YACjC,IAAM,EAAE,GAAG,iBAAO,CAAC,OAAO,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,SAAU,EAAE,GAAG,CAAC,CAAC;YACjE,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC;QAC9B,CAAC;;;OAAA;IAED,sBAAI,0BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAED,sBAAI,0BAAK;aAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IACD,sBAAI,2BAAM;aAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;;;OAAA;IACL,cAAC;AAAD,CAAC;;;;;;;;UCpDD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;UENA;UACA;UACA;UACA","sources":["webpack://EGAK/webpack/universalModuleDefinition","webpack://EGAK/./src/renderer/shader_sources/fragment_shader_source.glsl","webpack://EGAK/./src/renderer/shader_sources/vertex_shader_source.glsl","webpack://EGAK/./src/app/application.ts","webpack://EGAK/./src/display/abstract_display_object.ts","webpack://EGAK/./src/display/rectangle.ts","webpack://EGAK/./src/display/sprite.ts","webpack://EGAK/./src/display/stage.ts","webpack://EGAK/./src/display/text.ts","webpack://EGAK/./src/index.ts","webpack://EGAK/./src/interaction/interaction.ts","webpack://EGAK/./src/loader/loader.ts","webpack://EGAK/./src/matrix/index.ts","webpack://EGAK/./src/renderer/glutils/alpha.ts","webpack://EGAK/./src/renderer/glutils/buffer.ts","webpack://EGAK/./src/renderer/glutils/canvas.ts","webpack://EGAK/./src/renderer/glutils/index.ts","webpack://EGAK/./src/renderer/glutils/program.ts","webpack://EGAK/./src/renderer/glutils/texture.ts","webpack://EGAK/./src/renderer/glutils/uniform.ts","webpack://EGAK/./src/renderer/renderer.ts","webpack://EGAK/./src/static/context.ts","webpack://EGAK/./src/static/resolution.ts","webpack://EGAK/./src/texture/texture.ts","webpack://EGAK/webpack/bootstrap","webpack://EGAK/webpack/runtime/define property getters","webpack://EGAK/webpack/runtime/hasOwnProperty shorthand","webpack://EGAK/webpack/runtime/make namespace object","webpack://EGAK/webpack/before-startup","webpack://EGAK/webpack/startup","webpack://EGAK/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"EGAK\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EGAK\"] = factory();\n\telse\n\t\troot[\"EGAK\"] = factory();\n})(self, function() {\nreturn ","export default \"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\nin vec2 v_texcoord;\\r\\n\\r\\nuniform sampler2D u_texture;\\r\\n\\r\\nuniform float u_opacity;\\r\\n\\r\\nout vec4 outColor;\\r\\n\\r\\nvoid main() {\\r\\n   outColor = texture(u_texture, v_texcoord) * vec4(1, 1, 1, u_opacity);\\r\\n}\";","export default \"#version 300 es\\r\\n \\r\\nin vec2 a_position;\\r\\nin vec2 a_texcoord;\\r\\n \\r\\nuniform mat3 u_transformation;\\r\\n \\r\\nout vec2 v_texcoord;\\r\\n \\r\\nvoid main() {\\r\\n   v_texcoord = a_texcoord;\\r\\n\\r\\n   gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);\\r\\n}\";","import Renderer from '../renderer/renderer';\r\nimport Stage from '../display/stage';\r\nimport Loader from '../loader/loader';\r\nimport Resolution from '../static/resolution';\r\nimport InteractionManager from '../interaction/interaction';\r\nimport {BaseStage} from '../display/stage';\r\n\r\ninterface IAppOption {\r\n    width?: number;\r\n    height?: number;\r\n    canvas?: HTMLCanvasElement;\r\n    autoStyleCanvas?: boolean;\r\n}\r\n\r\nconst AppDefaultOption: IAppOption = {\r\n    width: 300,\r\n    height: 150,\r\n    canvas: document.createElement('canvas'),\r\n    autoStyleCanvas: false,\r\n}\r\n\r\nexport interface IResolution {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport const defaultResolution: IResolution = {\r\n    x: 1, y: 1\r\n};\r\n\r\nexport interface IScreenSize {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport default class App {\r\n    renderer: Renderer;\r\n    baseStage: BaseStage;\r\n    loader: any = Loader;\r\n    private _canvas: HTMLCanvasElement;\r\n    private _screenSize: IScreenSize;\r\n    constructor(options?: IAppOption){\r\n        if(!options) options = AppDefaultOption;\r\n\r\n        const width = options.width || AppDefaultOption.width!;\r\n        const height = options.height || AppDefaultOption.height!;\r\n        const canvas = options.canvas || AppDefaultOption.canvas!;\r\n        const autoStyleCanvas = options.autoStyleCanvas || AppDefaultOption.autoStyleCanvas!;\r\n\r\n        this.baseStage = new BaseStage(width, height);\r\n\r\n        this._canvas = canvas;\r\n        if(autoStyleCanvas){\r\n            this._canvas.style.width = `${width}px`;\r\n            this._canvas.style.height = `${height}px`;\r\n        }\r\n\r\n        this._screenSize = {width: width, height: height};\r\n\r\n        this.renderer = new Renderer({canvas: canvas, width: this._screenSize.width, height: this._screenSize.height});\r\n\r\n        Resolution.x = this._resolutionX;\r\n        Resolution.y = this._resolutionY;\r\n\r\n        InteractionManager.canvas = canvas;\r\n        InteractionManager.on();\r\n        InteractionManager.screenSize = this._screenSize;\r\n    }\r\n\r\n    set width(value: number){\r\n        this._screenSize.width = value;\r\n        this.renderer.width = value;\r\n        Resolution.x = this._resolutionX;\r\n    }\r\n    set height(value: number){\r\n        this._screenSize.height = value;\r\n        this.renderer.height = value;\r\n        Resolution.y = this._resolutionY;\r\n    }\r\n\r\n    private get _resolutionX(): number{\r\n        return this.renderer.resolution*this._canvas.width/this._screenSize.width;\r\n    }\r\n    private get _resolutionY(): number{\r\n        return this.renderer.resolution*this._canvas.height/this._screenSize.height;\r\n    }\r\n\r\n    render(): void{\r\n        this.renderer.render(this.baseStage);\r\n\r\n        this.renderer.flush();\r\n    }\r\n    clearScreen(r: number = 0, g: number = 0, b: number = 0, a?: number): void{\r\n        this.renderer.clear(r, g, b, a);\r\n    }\r\n\r\n    addResource(id: string, src: string){\r\n        this.loader.add(id, src);\r\n    }\r\n    loadAll(): void{\r\n        this.loader.loadAll();\r\n    }\r\n\r\n    get loaded(): boolean{\r\n        return this.loader.loaded;\r\n    }\r\n}","import Texture from '../texture/texture'\r\n\r\n\r\nexport class TwoDemensionParam {\r\n    _x: number = 1;\r\n    _y: number = 1;\r\n    set x(value: number){\r\n        this._x = value;\r\n    }\r\n    set y(value: number){\r\n        this._y = value;\r\n    }\r\n    get x(): number{\r\n        return this._x;\r\n    }\r\n    get y(): number{\r\n        return this._y;\r\n    }\r\n    set(x: number, y?: number): void{\r\n        this._x = x;\r\n        this._y = y ? y : x;\r\n    }\r\n}\r\n\r\nclass Position extends TwoDemensionParam {\r\n    constructor(){\r\n        super();\r\n        this._x = 0;\r\n        this._y = 0;\r\n    }\r\n}\r\n\r\nexport default abstract class AbstractDisplayObject {\r\n    texture: Texture | undefined;\r\n    private _position: TwoDemensionParam = new TwoDemensionParam();\r\n    private _opacity: number = 1;\r\n    private _scale: TwoDemensionParam = new TwoDemensionParam();\r\n    set opacity(value: number){\r\n        this._opacity = Math.min(Math.max(value, 0), 1);\r\n    }\r\n    get opacity(): number{\r\n        return this._opacity;\r\n    }\r\n    rotation: number = 0;\r\n    get position(): TwoDemensionParam{\r\n        return this._position;\r\n    }\r\n    get scale(): TwoDemensionParam{\r\n        return this._scale;\r\n    }\r\n}","export default class Rectangle{\r\n    x: number = 0;\r\n    y: number = 0;\r\n    w: number = 0;\r\n    h: number = 0;\r\n    constructor(x: number, y: number, w: number, h: number){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n    detectPointHit(x: number, y: number): boolean{\r\n        return this.x < x && this.x + this.w > x\r\n                && this.y < y && this.y + this.h > y;\r\n    }\r\n}","import Texture from '../texture/texture';\r\nimport Stage from './stage';\r\n\r\nexport default class Sprite extends Stage{\r\n    texture: Texture | undefined;\r\n    \r\n    constructor(texture?: Texture){\r\n        super();\r\n        if(texture) {\r\n            this.texture = texture;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}","import AbstractDisplayObject from './abstract_display_object';\r\n\r\nimport { TwoDemensionParam } from './abstract_display_object';\r\n\r\nimport InteractionManager from '../interaction/interaction';\r\n\r\nimport * as m3 from '../matrix';\r\n\r\nimport {EventKind} from '../interaction/interaction';\r\n\r\nimport Rectangle from '../display/rectangle';\r\n\r\nimport {EventArray, IEvent, events} from '../interaction/interaction';\r\n\r\nclass Anchor extends TwoDemensionParam{\r\n    constructor(){\r\n        super();\r\n        this._x = 0;\r\n        this._y = 0;\r\n    }\r\n}\r\n\r\n\r\nexport default class Stage extends AbstractDisplayObject{\r\n    anchor: Anchor = new Anchor();\r\n    transform: Array<number> = m3.identity();\r\n    parentTransform: Array<number> = m3.identity();\r\n    parentOpacity: number = 1;\r\n    parent: Stage | undefined = undefined;\r\n\r\n    isOnStage: boolean = false;\r\n\r\n    private _zIndex: number = 0;\r\n    set zIndex(value: number){\r\n        this._zIndex = value;\r\n        if(this.parent) this.parent.needsToSort = true;\r\n    }\r\n    get zIndex(): number{\r\n        return this._zIndex;\r\n    }\r\n\r\n    needsToSort: boolean = false;\r\n\r\n    protected _size : {width: number, height: number} = {width: 0, height: 0};\r\n\r\n    protected _eventsArys: {pointerdown: EventArray, pointerup: EventArray, pointermove: EventArray}\r\n                        = {pointerdown: [], pointerup: [], pointermove: []};\r\n\r\n    children: Array<Stage> = [];\r\n    calcRenderingInfos(): void{\r\n        this.transform = this._calculateTransform();\r\n        this.parentTransform = this._calculateParentTransform();\r\n        this.parentOpacity = this._calculateParentOpacity();\r\n    }\r\n    addChild(obj: Stage): void{\r\n        this.children.push(obj);\r\n        obj.parent = this;\r\n        if(this.isOnStage){\r\n            obj.isOnStage = true;\r\n            events.forEach(kind=>{\r\n                obj._eventsArys[kind].forEach(e=>{\r\n                    InteractionManager.add(kind, e);\r\n                });\r\n            })\r\n        }\r\n    }\r\n    removeChild(obj: Stage): void{\r\n        this.children.splice(this.children.indexOf(obj), 1);\r\n        obj.parent = undefined;\r\n        obj.isOnStage = false;\r\n    }\r\n    protected _calculateTransform(): Array<number>{\r\n        const position = m3.translation(this.position.x, this.position.y);\r\n        const scaling = m3.scaling(this.scale.x, this.scale.y);\r\n        const rotation = m3.rotation(this.rotation);\r\n        const anchor = m3.translation(-this.anchor.x, -this.anchor.y);\r\n\r\n        const transform = m3.someMultiply(position, rotation, scaling, anchor);\r\n\r\n        return transform;\r\n    }\r\n    private _calculateParentTransform(): Array<number>{\r\n        if(this.parent) {\r\n            return m3.multiply(this.parent.parentTransform, this.parent.transform);\r\n        } else {\r\n            return m3.identity();\r\n        }\r\n    }\r\n    private _calculateParentOpacity(): number{\r\n        if(this.parent){\r\n            return this.parent.parentOpacity * this.parent.opacity;\r\n        } else{\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    get worldScale(): {x: number, y: number}{\r\n        if(this.parent){\r\n            const parent = this.parent;\r\n            const worldScale = parent.worldScale;\r\n            return {x: worldScale.x * parent.scale.x, y: worldScale.y * parent.scale.y};\r\n        } else {\r\n            return {x: 1, y: 1};\r\n        }\r\n    }\r\n    get worldPosition(): {x: number, y: number}{\r\n        if(this.parent){\r\n            const parent = this.parent;\r\n            const parentWorldPos = parent.worldPosition;\r\n            const parentScale = parent.worldScale;\r\n            return {x: parentWorldPos.x + parent.position.x*parentScale.x, y: parentWorldPos.y + parent.position.y*parentScale.y};\r\n        } else {\r\n            return {x: 0, y: 0};\r\n        }\r\n    }\r\n\r\n    set x(value: number){\r\n        this.position.x = value;\r\n    }\r\n    set y(value: number){\r\n        this.position.y = value;\r\n    }\r\n    get x(): number {\r\n        return this.position.x;\r\n    }\r\n    get y(): number {\r\n        return this.position.y;\r\n    }\r\n\r\n    get width(): number{\r\n        return this._size.width;\r\n    }\r\n    get height(): number{\r\n        return this._size.height;\r\n    }\r\n    set width(value: number){\r\n        this._size.width = value;\r\n    }\r\n    set height(value: number){\r\n        this._size.height = value;\r\n    }\r\n\r\n    addEventListener(type: EventKind, callback: Function){\r\n        const e: IEvent = {target: this, callback: callback};\r\n        this._eventsArys[type].push(e);\r\n\r\n        if(this.isOnStage){\r\n            InteractionManager.add(type, e);\r\n        }\r\n    }\r\n    getBoundingRect(): Rectangle{\r\n        const parentScale = this.worldScale;\r\n        const parentPos = this.worldPosition;\r\n        const x = parentPos.x + (this.position.x - this.anchor.x)*parentScale.x;\r\n        const y = parentPos.y + (this.position.y - this.anchor.y)*parentScale.y;\r\n        const w = (this.texture ? this.texture.width*this.texture.scale.x : this._size.width)*this.scale.x * parentScale.x;\r\n        const h = (this.texture ? this.texture.height*this.texture.scale.y : this._size.height)*this.scale.y * parentScale.y;\r\n\r\n        return new Rectangle(x, y, w, h);\r\n    }\r\n\r\n    sortChildren(): void{\r\n        this.children.sort((a, b)=>{return a.zIndex - b.zIndex;});\r\n    }\r\n}\r\n\r\nexport class BaseStage extends Stage{\r\n    readonly _size: {width: number, height: number};\r\n    readonly isOnStage = true;\r\n    constructor(width: number, height: number){\r\n        super();\r\n        this._size = {width: width, height: height};\r\n    }\r\n}","import Sprite from './sprite';\r\n\r\nimport Texture from '../texture/texture';\r\n\r\nimport { IResolution } from '../app/application';\r\n\r\nimport Resolution from '../static/resolution';\r\n\r\nimport { SCALE_MODE } from '../texture/texture';\r\n\r\nexport interface ITextStyle  {\r\n    font: string;\r\n    fontSize: number;\r\n    fill: string;\r\n    strokeWidth: number;\r\n    stroke: string;\r\n    shadow: string;\r\n    shadowX: number;\r\n    shadowY: number;\r\n    shadowBlur: number;\r\n};\r\n\r\nconst defaultTextStyle: ITextStyle = {\r\n    font: 'sans-serif',\r\n    fontSize: 20,\r\n    fill: '#f00',\r\n    strokeWidth: 0,\r\n    stroke: '#000',\r\n    shadow: '',\r\n    shadowX: 1,\r\n    shadowY: 1,\r\n    shadowBlur: 0\r\n};\r\n\r\n\r\n\r\n\r\nexport default class Text extends Sprite {\r\n    texture: Texture;\r\n    private _text: string = \"\";\r\n    private _style: ITextStyle;\r\n    private _canvas: HTMLCanvasElement = document.createElement('canvas')\r\n    private _resolution: IResolution = Resolution;\r\n    constructor(text?: string, style?: ITextStyle){\r\n        super();\r\n\r\n        this._text = text || '';\r\n        style = style || defaultTextStyle;\r\n        this._style = style;\r\n        for(let styleName in defaultTextStyle){\r\n            this._style[styleName] = style[styleName] || defaultTextStyle[styleName];\r\n        }\r\n        \r\n        this.texture = new Texture(undefined, SCALE_MODE.LINEAR);\r\n        this._updateCanvasTexture();\r\n    }\r\n    private _drawCanvas(){\r\n        const canvas = this._canvas;\r\n        const cxt = canvas.getContext('2d')!;\r\n\r\n        const style = this._style;\r\n        const text = this._text;\r\n\r\n        canvas.width = 2;\r\n        canvas.height = 2;\r\n\r\n        cxt.font = `${style.fontSize}px ${style.font}`;\r\n        cxt.textBaseline = 'top';\r\n\r\n        const textData = cxt.measureText(text);\r\n        const textWidth = textData.width + (style.shadow ? style.shadowX : 0);\r\n        const textHeight = textData.actualBoundingBoxDescent - textData.actualBoundingBoxAscent + (style.shadow ? style.shadowY : 0);\r\n        canvas.width = textWidth*this._resolution.x;\r\n        canvas.height = textHeight*this._resolution.y;\r\n\r\n        cxt.scale(this._resolution.x, this._resolution.y);\r\n\r\n        cxt.clearRect(0, 0, canvas.width, canvas.height);\r\n        \r\n        cxt.beginPath();\r\n        if(style.shadow){\r\n            cxt.shadowOffsetX = style.shadowX;\r\n            cxt.shadowOffsetY = style.shadowY;\r\n            cxt.shadowBlur = style.shadowBlur;\r\n            cxt.shadowColor = style.shadow;\r\n        }\r\n        cxt.font = `${style.fontSize}px ${style.font}`;\r\n        cxt.textBaseline = 'top';\r\n        cxt.fillStyle = style.fill;\r\n        cxt.fillText(text, 0, 0);\r\n        cxt.closePath();\r\n\r\n        cxt.beginPath();\r\n        if(style.strokeWidth){\r\n            cxt.shadowOffsetX = 0;\r\n            cxt.shadowOffsetY = 0;\r\n            cxt.lineWidth = style.strokeWidth;\r\n            cxt.strokeStyle = style.stroke;\r\n            cxt.strokeText(text, 0, 0);\r\n        }\r\n\r\n        this.texture.scale.x = 1/this._resolution.x;\r\n        this.texture.scale.y = 1/this._resolution.y;\r\n    }\r\n\r\n    get text(): string{\r\n        return this._text;\r\n    }\r\n    set text(text: string){\r\n        this._text = text;\r\n        this._updateCanvasTexture();\r\n    }\r\n    private _updateCanvasTexture(): void{\r\n        this._drawCanvas();\r\n        this.texture.texture = this._canvas;\r\n    }\r\n\r\n    get style(): ITextStyle{\r\n        this._updateCanvasTexture();\r\n        return this._style;\r\n    }\r\n}","import App from './app/application'\r\nimport Sprite from './display/sprite';\r\nimport Texture from './texture/texture';\r\nimport Stage from './display/stage';\r\nimport Text from './display/text';\r\nimport Loader from './loader/loader';\r\n\r\nexport { App, Sprite, Texture, Stage, Text, Loader }; ","import { IScreenSize } from \"../app/application\";\r\nimport type Stage from '../display/stage';\r\nimport Rectangle from '../display/rectangle';\r\n\r\ninterface IPointerCo {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\n\r\nconst events = ['pointerdown', 'pointerup', 'pointermove'] as const;\r\nexport {events};\r\nexport type EventKind = typeof events[number];\r\n\r\nexport interface IEvent{\r\n    target: Stage;\r\n    callback: Function;\r\n}\r\n\r\nexport type EventArray = Array<IEvent>;\r\n\r\nexport default class InteractionManager {\r\n    private static _canvas: HTMLCanvasElement | undefined;\r\n    static screenSize: IScreenSize = {width: 0, height: 0};\r\n    private static _canvasSize: {w: number, h: number} = {w: 0, h: 0};\r\n\r\n    private static _eventsArys: {pointerup: EventArray, \r\n                                pointerdown: EventArray,\r\n                                pointermove: EventArray,} = {\r\n        pointerup: [],\r\n        pointerdown: [],\r\n        pointermove: [],\r\n    };\r\n    private static _getPointerCo(e: PointerEvent): IPointerCo{\r\n        const rect = this._canvasSize;\r\n\r\n        return {x: e.offsetX*this.screenSize.width/rect.w,\r\n                y: e.offsetY*this.screenSize.height/rect.h};\r\n    }\r\n    static on(){\r\n        for(const event of Object.values(events)){\r\n            this._canvas?.addEventListener(event, (e)=>{\r\n                const co = this._getPointerCo(e);\r\n                this._dispatchEvents(event, co);\r\n            });\r\n        }\r\n    }\r\n    private static _dispatchEvents(type: EventKind, co: {x: number, y: number}){\r\n        \r\n        const eventAry = this._eventsArys[type];\r\n        for(let i=0, len=eventAry.length;i<len;i++){\r\n            const event = eventAry[i];\r\n            const target = event.target;\r\n            if(target.isOnStage){\r\n                const rect: Rectangle = target.getBoundingRect();\r\n                if(rect.detectPointHit(co.x, co.y)){\r\n                    event.callback();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    static set canvas(canvas: HTMLCanvasElement){\r\n        this._canvas = canvas;\r\n        this._canvasSize = this._getCanvasSize(canvas);\r\n        this._resizeObserver.observe(document.body);\r\n    }\r\n    private static _resizeObserver : ResizeObserver = new ResizeObserver(()=>{\r\n        this._canvasSize = this._getCanvasSize(this._canvas!);\r\n    });\r\n    private static _getCanvasSize(canvas: HTMLCanvasElement){\r\n        return {w: canvas.clientWidth, h: canvas.clientHeight};\r\n    }\r\n\r\n    static add(type: EventKind, e: IEvent){\r\n        this._eventsArys[type].push({\r\n            target: e.target,\r\n            callback: e.callback\r\n        });\r\n    }\r\n}","type ProgressManager = (all: number, rest: number)=>void;\r\n\r\nimport Texture from '../texture/texture';\r\nimport { SCALE_MODE } from '../texture/texture';\r\n\r\nexport default class Loader {\r\n    private static _resources: Map<string, Texture> = new Map();\r\n    private static _tasks: Array<Promise<unknown>> = [];\r\n    private static _loadThen: Function = function(){};\r\n    private static _taskNum: number = 0;\r\n    private static _progressManager: ProgressManager = ()=>{};\r\n\r\n    static loaded: boolean = false;\r\n\r\n    static add(id: string, src: string, scaleMode?: string): Loader{\r\n        this.loaded = false;\r\n        const promise = this._promiseLoadingImage(id, src, scaleMode);\r\n        this._tasks.push(promise);\r\n        \r\n        return this;\r\n    }\r\n    static loadAll(): void{\r\n        this._taskNum = this._tasks.length;\r\n        this._progressManager(this._taskNum, this._taskNum);\r\n        Promise.all(this._tasks)\r\n            .then(()=>{\r\n                this.loaded = true;\r\n                this._loadThen();\r\n            });\r\n        \r\n    }\r\n    private static _promiseLoadingImage(id: string, src: string, scaleMode: string = 'NEAREST'): Promise<unknown>{\r\n        const promise = new Promise((resolve)=>{\r\n            fetch(src).then(res=>res.blob())\r\n                    .then(blob=>createImageBitmap(blob))\r\n                    .then(data=>{\r\n                        this._resources.set(id, new Texture(data, SCALE_MODE[scaleMode]));\r\n                        this._tasks.shift();\r\n                        this._progressManager(this._taskNum, this._tasks.length);\r\n                        resolve(data);\r\n                    });\r\n        });\r\n        return promise;\r\n    }\r\n    static loadThen(func: Function){\r\n        this._loadThen = func;\r\n\r\n        if(this._tasks.length === 0){\r\n            func();\r\n        }\r\n    }\r\n    static manageProgress(func: ProgressManager){\r\n        this._progressManager = func;\r\n    }\r\n    \r\n\r\n    static get(id: string): Texture | undefined{\r\n        if(this._resources.has(id)){\r\n            return this._resources.get(id);\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n}","function projection(width: number, height: number){\r\n    return [\r\n        2/width, 0, 0,\r\n        0, -2/height, 0,\r\n        -1, 1, 1\r\n    ];\r\n}\r\n\r\nfunction scaling(x: number, y: number) {\r\n    return [\r\n        x, 0, 0,\r\n        0, y, 0,\r\n        0, 0, 1\r\n    ];\r\n};\r\n\r\nfunction translation(x: number, y: number){\r\n    return [\r\n        1, 0, 0,\r\n        0, 1, 0,\r\n        x, y, 1\r\n    ];\r\n}\r\n\r\nfunction rotation(angle: number){\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n    return [\r\n        cos, -sin, 0,\r\n        sin,  cos, 0,\r\n        0,     0,  1\r\n    ];\r\n}\r\n\r\nfunction multiply(a: Array<number>, b: Array<number>): Array<number> {\r\n    var a00 = a[0 * 3 + 0];\r\n    var a01 = a[0 * 3 + 1];\r\n    var a02 = a[0 * 3 + 2];\r\n    var a10 = a[1 * 3 + 0];\r\n    var a11 = a[1 * 3 + 1];\r\n    var a12 = a[1 * 3 + 2];\r\n    var a20 = a[2 * 3 + 0];\r\n    var a21 = a[2 * 3 + 1];\r\n    var a22 = a[2 * 3 + 2];\r\n    var b00 = b[0 * 3 + 0];\r\n    var b01 = b[0 * 3 + 1];\r\n    var b02 = b[0 * 3 + 2];\r\n    var b10 = b[1 * 3 + 0];\r\n    var b11 = b[1 * 3 + 1];\r\n    var b12 = b[1 * 3 + 2];\r\n    var b20 = b[2 * 3 + 0];\r\n    var b21 = b[2 * 3 + 1];\r\n    var b22 = b[2 * 3 + 2];\r\n    return [\r\n        b00 * a00 + b01 * a10 + b02 * a20,\r\n        b00 * a01 + b01 * a11 + b02 * a21,\r\n        b00 * a02 + b01 * a12 + b02 * a22,\r\n        b10 * a00 + b11 * a10 + b12 * a20,\r\n        b10 * a01 + b11 * a11 + b12 * a21,\r\n        b10 * a02 + b11 * a12 + b12 * a22,\r\n        b20 * a00 + b21 * a10 + b22 * a20,\r\n        b20 * a01 + b21 * a11 + b22 * a21,\r\n        b20 * a02 + b21 * a12 + b22 * a22,\r\n    ];\r\n}\r\n\r\nfunction someMultiply(...mat: Array<Array<number>>): Array<number>{\r\n    let tmp = mat[0];\r\n    for(let i=0, len=mat.length-1;i<len;i++){\r\n        tmp = multiply(tmp, mat[i+1]);\r\n    }\r\n    return tmp;\r\n}\r\n\r\nfunction identity(): Array<number>{\r\n    return [\r\n        1, 0, 0,\r\n        0, 1, 0,\r\n        0, 0, 1\r\n    ];\r\n}\r\n\r\nexport {projection, scaling, translation, rotation, multiply, someMultiply, identity};","export function enableAlpha(gl: WebGL2RenderingContext){\r\n    gl.enable(gl.BLEND);\r\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\r\n}","function  createBuffer(gl: WebGL2RenderingContext, type: number, ary: any): WebGLBuffer{\r\n    const buffer = gl.createBuffer()!;\r\n    gl.bindBuffer(type, buffer);\r\n    gl.bufferData(type, ary, gl.STATIC_DRAW);\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\r\n    return buffer;\r\n}\r\n\r\nexport function createLinkedVertexBuffer(gl: WebGL2RenderingContext, program: WebGLProgram, positionAttribName: string, coordAttribName: string){\r\n    const positionAttribLocation = gl.getAttribLocation(program, positionAttribName);\r\n    const texcoordAttribLocation = gl.getAttribLocation(program, coordAttribName);\r\n    gl.enableVertexAttribArray(positionAttribLocation);\r\n    gl.enableVertexAttribArray(texcoordAttribLocation);\r\n\r\n    const positionSize = 2;\r\n    const textureSize = 2;\r\n    const type = gl.FLOAT;\r\n    const normalize = false;\r\n    const stride = Float32Array.BYTES_PER_ELEMENT * (positionSize + textureSize);\r\n    const offset = Float32Array.BYTES_PER_ELEMENT * positionSize;\r\n\r\n    const vertexBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n    gl.vertexAttribPointer(positionAttribLocation, positionSize, type, normalize, stride, 0);\r\n    gl.vertexAttribPointer(texcoordAttribLocation, textureSize, type, normalize, stride, offset);\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    return vertexBuffer!;\r\n}\r\n\r\nexport function createRectangleIndices(gl: WebGL2RenderingContext){\r\n    const indices = new Uint16Array(\r\n        [0, 1, 2, \r\n         1, 3, 2]);\r\n    const indexBuffer = createBuffer(gl, gl.ELEMENT_ARRAY_BUFFER, indices);\r\n    return indexBuffer;\r\n}","export function clearCanvas(gl: WebGL2RenderingContext, color: {r: number, g: number, b: number, a?: number}){\r\n    const colorByte = 256;\r\n\r\n    const r = color.r/colorByte;\r\n    const g = color.g/colorByte;\r\n    const b = color.b/colorByte;\r\n    const a = color.a === undefined ? 1 : color.a;\r\n    gl.clearColor(r, g, b, a);\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n}\r\n\r\nexport function resizeCanvas(gl: WebGL2RenderingContext, resolution: number){\r\n    const canvas = gl.canvas;\r\n    const styleWidth = canvas.clientWidth;\r\n    const styleHeight = canvas.clientHeight;\r\n\r\n    canvas.width = styleWidth * resolution;\r\n    canvas.height = styleHeight * resolution;\r\n\r\n    gl.viewport(0, 0, canvas.width, canvas.height);\r\n}","import { createProgram } from './program';\r\nimport { createLinkedVertexBuffer, createRectangleIndices } from './buffer';\r\nimport {createTexture, uploadTexture} from './texture';\r\nimport { enableAlpha } from './alpha';\r\nimport { clearCanvas, resizeCanvas } from './canvas';\r\nimport { getUniformLocation } from './uniform';\r\n\r\nexport { createProgram, \r\n        createRectangleIndices, createLinkedVertexBuffer,\r\n        createTexture, uploadTexture, \r\n        enableAlpha,\r\n        clearCanvas, resizeCanvas, \r\n        getUniformLocation\r\n};","function createShader(gl: WebGLRenderingContext, type: number, src: string): WebGLShader{\r\n    const shader = gl.createShader(type);\r\n    if(!shader){\r\n        throw new Error('failed to create a shader');\r\n    }\r\n    gl.shaderSource(shader, src);\r\n    gl.compileShader(shader);\r\n\r\n    if(!gl.getShaderParameter(shader, gl.COMPILE_STATUS)){\r\n        console.log(gl.getShaderInfoLog(shader));\r\n        gl.deleteShader(shader);\r\n    }\r\n\r\n    return shader;\r\n\r\n    \r\n}\r\n\r\n\r\nfunction createLinkedProgram(gl: WebGL2RenderingContext, ...shaders: WebGLShader[]): WebGLProgram{\r\n    const program = gl.createProgram();\r\n    if(!program){\r\n        throw new Error('failed to create program');\r\n    }\r\n\r\n    for(let i=0, len=shaders.length;i<len;i++){\r\n        gl.attachShader(program, shaders[i]);\r\n    }\r\n    gl.linkProgram(program);\r\n\r\n    if(!gl.getProgramParameter(program, gl.LINK_STATUS)){\r\n        console.log(gl.getProgramInfoLog(program));\r\n        gl.deleteProgram(program);\r\n    }\r\n\r\n    return program;\r\n    \r\n}\r\n\r\n\r\nexport function createProgram(gl: WebGL2RenderingContext, vSource: string, fSource: string){\r\n    const vShader = createShader(gl, gl.VERTEX_SHADER, vSource);\r\n    const fShader = createShader(gl, gl.FRAGMENT_SHADER, fSource);\r\n    const program = createLinkedProgram(gl, vShader, fShader);\r\n\r\n    return program;\r\n}","import { TextureOriginalImage } from '../../texture/texture';\r\n\r\nexport function createTexture(gl: WebGL2RenderingContext, param: string): WebGLTexture{\r\n    const texture = gl.createTexture()!;\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl[param]);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\r\n    gl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n    return texture;\r\n}\r\n\r\nexport function uploadTexture(gl: WebGL2RenderingContext, texture: WebGLTexture, img: TextureOriginalImage): WebGLTexture{;\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\r\n    gl.generateMipmap(gl.TEXTURE_2D);\r\n    gl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n    return texture;\r\n}\r\n\r\n","export function getUniformLocation(gl: WebGL2RenderingContext, program: WebGLProgram, uniformName: string){\r\n    return gl.getUniformLocation(program, uniformName)!;\r\n}","import Sprite from '../display/sprite';\r\nimport Stage from '../display/stage';\r\nimport Context from '../static/context';\r\nimport Texture from '../texture/texture';\r\n\r\nimport vShaderSource from './shader_sources/vertex_shader_source.glsl';\r\nimport fShaderSource from './shader_sources/fragment_shader_source.glsl';\r\nimport * as glutils from './glutils';\r\n\r\nimport * as m3 from '../matrix';\r\n\r\n\r\ninterface IRendererParams{\r\n    canvas: HTMLCanvasElement;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\n\r\n\r\nconst uniformPrefix = 'u_';\r\n\r\nexport default class Renderer{\r\n    canvas: HTMLCanvasElement;\r\n    gl: WebGL2RenderingContext;\r\n    private _textureUniformLocation: WebGLUniformLocation;\r\n    private _indexBuffer: WebGLBuffer;\r\n    private _vertexBuffer: WebGLBuffer;\r\n    resolution: number = window.devicePixelRatio || 1;\r\n    private _screenSize: {width: number, height: number};\r\n    private _program: WebGLProgram;\r\n\r\n    private _transformUniformLocation: WebGLUniformLocation;\r\n    private _opacityUniformLocation: WebGLUniformLocation;\r\n    constructor(params: IRendererParams){\r\n\r\n\r\n        const {canvas, width, height} = params;\r\n\r\n        this.canvas = canvas;\r\n\r\n        this._screenSize = {width: width!, height: height!};\r\n        \r\n        this.gl = this.canvas.getContext('webgl2')!;\r\n        const gl = this.gl;\r\n        Context.gl = gl;\r\n\r\n        this.resizeCanvas();\r\n\r\n        //alpha有効化\r\n        glutils.enableAlpha(gl);\r\n\r\n        //glの準備\r\n        const program = glutils.createProgram(gl, vShaderSource, fShaderSource);\r\n        this._program = program;\r\n\r\n        this._indexBuffer = glutils.createRectangleIndices(gl);\r\n        this._vertexBuffer = glutils.createLinkedVertexBuffer(gl, program, 'a_position', 'a_texcoord');\r\n    \r\n        this._transformUniformLocation = glutils.getUniformLocation(gl, program, uniformPrefix+'transformation');\r\n        this._opacityUniformLocation = glutils.getUniformLocation(gl, program, uniformPrefix+'opacity');\r\n        \r\n        this._textureUniformLocation = glutils.getUniformLocation(gl, program, uniformPrefix+'texture');\r\n    }\r\n\r\n    clear(r: number, g: number, b: number, a?: number): void{\r\n        glutils.clearCanvas(this.gl, {r: r, g: g, b: b, a: a});\r\n    }\r\n    resizeCanvas(){\r\n        glutils.resizeCanvas(this.gl, this.resolution);\r\n    }\r\n    set width(value: number){\r\n        this._screenSize.width = value;\r\n    }\r\n    set height(value: number){\r\n        this._screenSize.height = value;\r\n    }\r\n\r\n    flush(): void{\r\n        this.gl.flush();\r\n    }\r\n\r\n    render(obj: Stage): void{\r\n        obj.calcRenderingInfos();\r\n\r\n        const texture = obj.texture;\r\n        if(texture){\r\n            this.renderSprite(obj);\r\n        }\r\n\r\n        if(obj.needsToSort){\r\n            obj.sortChildren();\r\n            obj.needsToSort = false;\r\n        }\r\n        const children = obj.children;\r\n        for(let i=0, len=children.length;i<len;i++){\r\n            this.render(children[i]);\r\n        }\r\n    }\r\n\r\n    renderSprite(sprite: Stage): void{\r\n        const texture = sprite.texture;\r\n        if(!texture){\r\n            return;\r\n        }\r\n\r\n        const glTexture = texture.glTexture!;\r\n\r\n        const gl = this.gl;\r\n        const textureUniformLocation = this._textureUniformLocation;\r\n\r\n        gl.useProgram(this._program);\r\n\r\n        const textureUnitID = 0;\r\n        gl.uniform1i(textureUniformLocation, textureUnitID);\r\n        gl.activeTexture(gl.TEXTURE0 + textureUnitID);\r\n        gl.bindTexture(gl.TEXTURE_2D, glTexture);\r\n\r\n        const projection= m3.projection(this._screenSize.width, this._screenSize.height);\r\n        const textureScaling = m3.scaling(texture.scale.x, texture.scale.y);\r\n        const transformation = m3.someMultiply(projection, sprite.parentTransform, sprite.transform, textureScaling);\r\n        gl.uniformMatrix3fv(this._transformUniformLocation, false, transformation);\r\n\r\n        const opacity = sprite.opacity;\r\n        const worldOpacity = sprite.parentOpacity;\r\n        const wholeOpacity = worldOpacity*opacity;\r\n        gl.uniform1f(this._opacityUniformLocation, wholeOpacity);\r\n\r\n        const vertexBuffer = this._vertexBuffer;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n\r\n        const textureSize = {w: texture.width, h: texture.height};\r\n\r\n        const vertices = [\r\n            0, 0,\r\n            0, 0,\r\n            0, textureSize.h,\r\n            0, 1,\r\n            textureSize.w, 0,\r\n            1, 0,\r\n            textureSize.w, textureSize.h,\r\n            1, 1\r\n        ];\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.DYNAMIC_DRAW);\r\n        \r\n        const indexBuffer = this._indexBuffer;\r\n        const size = 6;\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n        gl.drawElements(gl.TRIANGLES, size, gl.UNSIGNED_SHORT, 0);\r\n\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n    }\r\n}\r\n","export default class Context{\r\n    static gl: WebGL2RenderingContext | undefined;\r\n    static checkGL(): WebGL2RenderingContext{\r\n        if(Context.gl){\r\n            return Context.gl;\r\n        } else {\r\n            throw new Error('There seems to be no canvas');\r\n        }\r\n    }\r\n}","export default class Resolution {\r\n    static x: number = 1;\r\n    static y: number = 1;\r\n}","\r\nimport Context from '../static/context';\r\nimport * as glutils from '../renderer/glutils';\r\n\r\nexport type TextureOriginalImage = ImageBitmap | HTMLCanvasElement | HTMLImageElement;\r\n\r\nexport enum SCALE_MODE{\r\n    LINEAR = 'LINEAR', \r\n    NEAREST = 'NEAREST'\r\n};\r\n\r\nimport { TwoDemensionParam } from '../display/abstract_display_object';\r\n\r\nexport default class Texture {\r\n    glTexture: WebGLTexture;\r\n    private _width: number = 0;\r\n    private _height: number = 0;\r\n    private _scale: TwoDemensionParam = new TwoDemensionParam();\r\n    scaleMode: SCALE_MODE = SCALE_MODE.NEAREST;\r\n    constructor(img: TextureOriginalImage | undefined, scaleMode: SCALE_MODE= SCALE_MODE.NEAREST){\r\n        this.scaleMode = scaleMode;\r\n\r\n        const gl = Context.checkGL();\r\n        const texture = glutils.createTexture(gl, scaleMode);\r\n\r\n        if(img){\r\n            this.glTexture =  glutils.uploadTexture(gl, texture, img);\r\n\r\n            this._width = img.width;\r\n            this._height = img.height;\r\n        } else {\r\n            this.glTexture = texture;\r\n        }\r\n        \r\n    }\r\n    set texture(img: TextureOriginalImage){\r\n        const gl = Context.checkGL();\r\n        this.glTexture = glutils.uploadTexture(gl, this.glTexture!, img);\r\n        this._width = img.width;\r\n        this._height = img.height;\r\n    }\r\n\r\n    get scale(): TwoDemensionParam{\r\n        return this._scale;\r\n    }\r\n\r\n    get width(): number{\r\n        return this._width;\r\n    }\r\n    get height(): number{\r\n        return this._height;\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}