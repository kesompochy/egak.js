{"version":3,"file":"egak.js","mappings":"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","sources":["webpack://EGAK/webpack/universalModuleDefinition","webpack://EGAK/./src/renderer/shader_sources/circle/fragment.glsl","webpack://EGAK/./src/renderer/shader_sources/circle/vertex.glsl","webpack://EGAK/./src/renderer/shader_sources/ellipse/fragment.glsl","webpack://EGAK/./src/renderer/shader_sources/ellipse/vertex.glsl","webpack://EGAK/./src/renderer/shader_sources/polygon/fragment.glsl","webpack://EGAK/./src/renderer/shader_sources/polygon/vertex.glsl","webpack://EGAK/./src/renderer/shader_sources/roundedrect/fragment.glsl","webpack://EGAK/./src/renderer/shader_sources/roundedrect/vertex.glsl","webpack://EGAK/./src/renderer/shader_sources/sprite/fragment.glsl","webpack://EGAK/./src/renderer/shader_sources/sprite/vertex.glsl","webpack://EGAK/./src/app/application.ts","webpack://EGAK/./src/app/index.ts","webpack://EGAK/./src/display/abstract_display_object.ts","webpack://EGAK/./src/display/index.ts","webpack://EGAK/./src/display/sprite.ts","webpack://EGAK/./src/display/stage.ts","webpack://EGAK/./src/display/text.ts","webpack://EGAK/./src/graphics/circle/circle.ts","webpack://EGAK/./src/graphics/circle/ellipse.ts","webpack://EGAK/./src/graphics/circle/rounded_rect.ts","webpack://EGAK/./src/graphics/graphics.ts","webpack://EGAK/./src/graphics/index.ts","webpack://EGAK/./src/graphics/polygon/line.ts","webpack://EGAK/./src/graphics/polygon/rectangle.ts","webpack://EGAK/./src/graphics/polygon/triangle.ts","webpack://EGAK/./src/index.ts","webpack://EGAK/./src/interaction/interaction.ts","webpack://EGAK/./src/loader/index.ts","webpack://EGAK/./src/loader/loader.ts","webpack://EGAK/./src/math/index.ts","webpack://EGAK/./src/math/rectangle.ts","webpack://EGAK/./src/matrix/index.ts","webpack://EGAK/./src/renderer/glutils/alpha.ts","webpack://EGAK/./src/renderer/glutils/buffer.ts","webpack://EGAK/./src/renderer/glutils/canvas.ts","webpack://EGAK/./src/renderer/glutils/index.ts","webpack://EGAK/./src/renderer/glutils/program.ts","webpack://EGAK/./src/renderer/glutils/texture.ts","webpack://EGAK/./src/renderer/glutils/uniform.ts","webpack://EGAK/./src/renderer/renderer.ts","webpack://EGAK/./src/renderer/settings.ts","webpack://EGAK/./src/static/context.ts","webpack://EGAK/./src/static/resolution.ts","webpack://EGAK/./src/texture/index.ts","webpack://EGAK/./src/texture/texture.ts","webpack://EGAK/webpack/bootstrap","webpack://EGAK/webpack/runtime/define property getters","webpack://EGAK/webpack/runtime/hasOwnProperty shorthand","webpack://EGAK/webpack/runtime/make namespace object","webpack://EGAK/webpack/before-startup","webpack://EGAK/webpack/startup","webpack://EGAK/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"EGAK\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EGAK\"] = factory();\n\telse\n\t\troot[\"EGAK\"] = factory();\n})(self, function() {\nreturn ","export default \"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\nin vec4 v_color;\\r\\nin vec2 v_position;\\r\\n\\r\\nuniform float u_opacity;\\r\\nuniform float u_radius;\\r\\nuniform vec2 u_center;\\r\\nuniform float u_startAngle;\\r\\nuniform float u_endAngle;\\r\\nuniform float u_clockwize;\\r\\n\\r\\nout vec4 outColor;\\r\\n\\r\\nconst float PI  = 3.141592653589793;\\r\\nconst float PI2 = PI * 2.0;\\r\\n\\r\\nconst float COLOR_BYTES = 255.;\\r\\nconst float COLOR_BYTES_INVERSE = 1./COLOR_BYTES;\\r\\nconst float edge = 1.;\\r\\n\\r\\nvoid main() {\\r\\n   \\r\\n   float dx = v_position.x - u_center.x;\\r\\n   float dy = v_position.y - u_center.y;\\r\\n   float angle = u_clockwize*fract(atan(dy, dx)/PI2 + 1.);\\r\\n\\r\\n   float dist = distance(u_center, v_position)/u_radius;\\r\\n   float delta = fwidth(dist);\\r\\n   float alpha = smoothstep(edge - delta, edge, dist);\\r\\n\\r\\n   if((u_clockwize*angle >= u_startAngle && u_clockwize*angle <= u_endAngle)){\\r\\n      outColor = mix(v_color*vec4(COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, u_opacity), outColor, alpha);\\r\\n   } else {\\r\\n      discard;\\r\\n   }\\r\\n}\";","export default \"#version 300 es\\r\\n \\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\n \\r\\nuniform mat3 u_transformation;\\r\\n \\r\\nout vec4 v_color;\\r\\nout vec2 v_position;\\r\\n \\r\\nvoid main() {\\r\\n   v_color = a_color;\\r\\n\\r\\n   gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);\\r\\n   v_position = a_position;\\r\\n}\";","export default \"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\nin vec4 v_color;\\r\\nin vec2 v_position;\\r\\n\\r\\nuniform float u_opacity;\\r\\n\\r\\nuniform vec2 u_center;\\r\\nuniform float u_width;\\r\\nuniform float u_height;\\r\\n\\r\\nout vec4 outColor;\\r\\n\\r\\nconst float COLOR_BYTES = 255.;\\r\\nconst float COLOR_BYTES_INVERSE = 1./COLOR_BYTES;\\r\\nconst float edge = 1.;\\r\\n\\r\\nvoid main() {\\r\\n   vec4 normalizedColor = v_color * vec4(COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, u_opacity);\\r\\n\\r\\n   float focus = sqrt(abs(u_width*u_width - u_height*u_height))/2.;\\r\\n   float dx = v_position.x - u_center.x;\\r\\n   float dy = v_position.y - u_center.y;\\r\\n\\r\\n   if(u_width > u_height){\\r\\n      float dist1 = distance(vec2(focus, 0), vec2(dx, dy));\\r\\n      float dist2 = distance(vec2(-focus, 0), vec2(dx, dy));\\r\\n\\r\\n      float dist = (dist1 + dist2)/u_width;\\r\\n      float delta = fwidth(dist);\\r\\n      float alpha = smoothstep(edge-delta, edge, dist);\\r\\n\\r\\n      outColor = mix(normalizedColor, outColor, alpha);\\r\\n\\r\\n\\r\\n   } else {\\r\\n      float dist1 = distance(vec2(0, focus), vec2(dx, dy));\\r\\n      float dist2 = distance(vec2(0, -focus), vec2(dx, dy));\\r\\n\\r\\n      float dist = (dist1 + dist2)/u_height;\\r\\n      float delta = fwidth(dist);\\r\\n      float alpha = smoothstep(edge-delta, edge, dist);\\r\\n\\r\\n      outColor = mix(normalizedColor, outColor, alpha);\\r\\n\\r\\n   }\\r\\n}\";","export default \"#version 300 es\\r\\n \\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\n \\r\\nuniform mat3 u_transformation;\\r\\n \\r\\nout vec4 v_color;\\r\\nout vec2 v_position;\\r\\n \\r\\nvoid main() {\\r\\n   v_color = a_color;\\r\\n\\r\\n   gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);\\r\\n   v_position = a_position;\\r\\n}\";","export default \"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\nin vec4 v_color;\\r\\n\\r\\n\\r\\nuniform float u_opacity;\\r\\n\\r\\nconst float COLOR_BYTES = 255.;\\r\\nconst float COLOR_BYTES_INVERSE = 1./COLOR_BYTES;\\r\\n\\r\\nout vec4 outColor;\\r\\n\\r\\nvoid main() {\\r\\n   outColor = v_color * vec4(COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, u_opacity);\\r\\n}\";","export default \"#version 300 es\\r\\n \\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\n \\r\\nuniform mat3 u_transformation;\\r\\n \\r\\nout vec4 v_color;\\r\\n \\r\\nvoid main() {\\r\\n   v_color = a_color;\\r\\n\\r\\n   gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);\\r\\n}\";","export default \"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\nin vec4 v_color;\\r\\nin vec2 v_position;\\r\\n\\r\\nuniform float u_opacity;\\r\\n\\r\\nuniform float u_radius;\\r\\nuniform vec2 u_position;\\r\\nuniform float u_width;\\r\\nuniform float u_height;\\r\\n\\r\\nconst float COLOR_BYTES = 255.;\\r\\nconst float COLOR_BYTES_INVERSE = 1./COLOR_BYTES;\\r\\n\\r\\n\\r\\n\\r\\nout vec4 outColor;\\r\\n\\r\\nvoid main() {\\r\\n   vec4 normalizedVColor = v_color*vec4(COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, COLOR_BYTES_INVERSE, u_opacity);\\r\\n\\r\\n   vec2[4] centers = vec2[](\\r\\n      vec2(u_position.x + u_radius,            u_position.y + u_radius),\\r\\n      vec2(u_position.x + u_radius,            u_position.y + u_height - u_radius),\\r\\n      vec2(u_position.x + u_width - u_radius,  u_position.y + u_radius),\\r\\n      vec2(u_position.x + u_width - u_radius,  u_position.y + u_height - u_radius)\\r\\n   );\\r\\n\\r\\n   float[4] distances = float[](\\r\\n      0., 0., 0., 0.\\r\\n   );\\r\\n\\r\\n   float[4] alphas = float[](\\r\\n      0., 0., 0., 0.\\r\\n   );\\r\\n   for(int i = 0; i<4; i++){\\r\\n      float dist = distance(centers[i], v_position)/u_radius;\\r\\n      distances[i] = dist;\\r\\n      float delta = fwidth(dist);\\r\\n      alphas[i] = smoothstep(1.-delta, 1., dist);\\r\\n   }\\r\\n\\r\\n   if(distance(v_position, vec2(u_position.xy)) < u_radius){\\r\\n      outColor = mix(normalizedVColor, outColor, alphas[0]);\\r\\n   } else if(distance(v_position, vec2(u_position.x, u_position.y+u_height)) < u_radius){\\r\\n      outColor = mix(normalizedVColor, outColor, alphas[1]);\\r\\n   } else if(distance(v_position, vec2(u_position.x+u_width, u_position.y)) < u_radius){\\r\\n      outColor = mix(normalizedVColor, outColor, alphas[2]);\\r\\n   } else if(distance(v_position, vec2(u_position.x+u_width, u_position.y+u_height)) < u_radius){\\r\\n      outColor = mix(normalizedVColor, outColor, alphas[3]);\\r\\n   } else {\\r\\n      outColor = normalizedVColor;\\r\\n   }\\r\\n}\";","export default \"#version 300 es\\r\\n \\r\\nin vec2 a_position;\\r\\nin vec4 a_color;\\r\\n \\r\\nuniform mat3 u_transformation;\\r\\n \\r\\nout vec4 v_color;\\r\\nout vec2 v_position;\\r\\n \\r\\nvoid main() {\\r\\n   v_color = a_color;\\r\\n\\r\\n   gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);\\r\\n   v_position = a_position;\\r\\n}\";","export default \"#version 300 es\\r\\nprecision highp float;\\r\\n\\r\\nin vec2 v_texcoord;\\r\\n\\r\\nuniform sampler2D u_texture;\\r\\n\\r\\nuniform float u_opacity;\\r\\n\\r\\nout vec4 outColor;\\r\\n\\r\\nvoid main() {\\r\\n   outColor = texture(u_texture, v_texcoord) * vec4(1, 1, 1, u_opacity);\\r\\n}\";","export default \"#version 300 es\\r\\n \\r\\nin vec2 a_position;\\r\\nin vec2 a_texcoord;\\r\\n \\r\\nuniform mat3 u_transformation;\\r\\n \\r\\nout vec2 v_texcoord;\\r\\n \\r\\nvoid main() {\\r\\n   v_texcoord = a_texcoord;\\r\\n\\r\\n   gl_Position = vec4((u_transformation * vec3(a_position, 1)).xy, 0, 1);\\r\\n}\";","import Renderer from '../renderer/renderer';\r\nimport Loader from '../loader/loader';\r\nimport Resolution from '../static/resolution';\r\nimport InteractionManager from '../interaction/interaction';\r\nimport {BaseStage} from '../display/stage';\r\nimport {eventType} from '../interaction/interaction';\r\n\r\ninterface IAppOption {\r\n    width?: number;\r\n    height?: number;\r\n    canvas?: HTMLCanvasElement;\r\n    autoStyleCanvas?: boolean;\r\n    autoPreventDefault?: boolean;\r\n}\r\n\r\nconst appDefaultOption: IAppOption = {\r\n    width: 300,\r\n    height: 150,\r\n    canvas: document.createElement('canvas'),\r\n    autoStyleCanvas: false,\r\n    autoPreventDefault: true\r\n}\r\n\r\nexport interface IResolution {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport const defaultResolution: IResolution = {\r\n    x: 1, y: 1\r\n};\r\n\r\nexport interface IScreenSize {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport default class App {\r\n    renderer: Renderer;\r\n    baseStage: BaseStage;\r\n    loader: any = Loader;\r\n    private _canvas: HTMLCanvasElement;\r\n    private _screenSize: IScreenSize;\r\n    private _preventTouchScrolling: boolean;\r\n    constructor(options?: IAppOption){\r\n        options = Object.assign(appDefaultOption, options);\r\n\r\n        const width = options.width!;\r\n        const height = options.height!;\r\n\r\n        this.baseStage = new BaseStage(width, height);\r\n\r\n        const canvas = options.canvas!;\r\n        const autoStyleCanvas = options.autoStyleCanvas!;\r\n\r\n        this._canvas = canvas;\r\n        if(autoStyleCanvas){\r\n            canvas.style.width = `${width}px`;\r\n            canvas.style.height = `${height}px`;\r\n        }\r\n\r\n        this._screenSize = {width: width, height: height};\r\n\r\n        this.renderer = new Renderer({canvas: canvas, width: width, height: height});\r\n\r\n        Resolution.x = this._resolutionX;\r\n        Resolution.y = this._resolutionY;\r\n\r\n        InteractionManager.screenSize = this._screenSize;\r\n\r\n        this._preventTouchScrolling = options.autoPreventDefault!;\r\n    }\r\n\r\n    enablePointerEvent(...eventNames: eventType[]){\r\n        eventNames.forEach((name)=>{\r\n            InteractionManager.enableEvent(name, this._canvas, this.baseStage);\r\n        });\r\n        if(!this._preventTouchScrolling){\r\n            InteractionManager.disablePreventScrolling(this._canvas);\r\n        }\r\n    }\r\n\r\n    set width(value: number){\r\n        this._screenSize.width = value;\r\n        this.renderer.width = value;\r\n        Resolution.x = this._resolutionX;\r\n    }\r\n    set height(value: number){\r\n        this._screenSize.height = value;\r\n        this.renderer.height = value;\r\n        Resolution.y = this._resolutionY;\r\n    }\r\n\r\n    private get _resolutionX(): number{\r\n        return this.renderer.resolution*this._canvas.width/this._screenSize.width;\r\n    }\r\n    private get _resolutionY(): number{\r\n        return this.renderer.resolution*this._canvas.height/this._screenSize.height;\r\n    }\r\n\r\n    render(): void{\r\n        this.renderer.render(this.baseStage);\r\n\r\n        this.renderer.flush();\r\n    }\r\n    clearScreen(r: number = 0, g: number = 0, b: number = 0, a?: number): void{\r\n        this.renderer.clear(r, g, b, a);\r\n    }\r\n\r\n    addResource(id: string, src: string){\r\n        this.loader.add(id, src);\r\n    }\r\n    loadAll(): void{\r\n        this.loader.loadAll();\r\n    }\r\n\r\n    get loaded(): boolean{\r\n        return this.loader.loaded;\r\n    }\r\n\r\n}","import App from './application';\r\n\r\nexport default App;","import Texture from '../texture/texture'\r\n\r\nexport class TwoDemensionParam {\r\n    _x: number = 1;\r\n    _y: number = 1;\r\n    set x(value: number){\r\n        this._x = value;\r\n    }\r\n    set y(value: number){\r\n        this._y = value;\r\n    }\r\n    get x(): number{\r\n        return this._x;\r\n    }\r\n    get y(): number{\r\n        return this._y;\r\n    }\r\n    set(x: number, y?: number): void{\r\n        this._x = x;\r\n        this._y = y !== undefined ? y : x;\r\n    }\r\n}\r\n\r\nclass Position extends TwoDemensionParam {\r\n    constructor(){\r\n        super();\r\n        this._x = 0;\r\n        this._y = 0;\r\n    }\r\n}\r\n\r\nexport interface Color {\r\n    r: number;\r\n    g: number;\r\n    b: number;\r\n    a: number;\r\n}\r\n\r\nexport const defaultColor: Color = {\r\n    r: 0, g: 0, b: 0, a: 1\r\n};\r\n\r\nexport type RenderingTypes = 'sprite' | 'graphics' | '';\r\nexport type ShaderTypes = 'sprite' | 'polygon' | 'circle' | 'roundedrect' | 'ellipse' | '';\r\n\r\n\r\nexport default abstract class AbstractDisplayObject {\r\n    private _position: Position = new Position();\r\n    private _opacity: number = 1;\r\n    private _scale: TwoDemensionParam = new TwoDemensionParam();\r\n    set opacity(value: number){\r\n        this._opacity = Math.min(Math.max(value, 0), 1);\r\n    }\r\n    get opacity(): number{\r\n        return this._opacity;\r\n    }\r\n    rotation: number = 0;\r\n    get position(): TwoDemensionParam{\r\n        return this._position;\r\n    }\r\n    get scale(): TwoDemensionParam{\r\n        return this._scale;\r\n    }\r\n    abstract readonly shaderType: ShaderTypes;\r\n    abstract readonly renderingType: RenderingTypes;\r\n}","import Stage from './stage';\r\nimport Sprite from './sprite';\r\nimport Text from './text';\r\n\r\nexport {Stage, Sprite, Text};","import Texture from '../texture/texture';\r\nimport Stage from './stage';\r\n\r\nimport * as m3 from '../matrix';\r\n\r\nclass NormalAnchor {\r\n    x: number = 0;\r\n    y: number = 0;\r\n\r\n\r\n    set(x: number, y?: number){\r\n        this.x = x;\r\n        this.y = y ? y : x;\r\n    }\r\n    clear(){\r\n        this.x = this.y = 0;\r\n    }\r\n}\r\n\r\nimport { RenderingTypes } from './abstract_display_object';\r\nimport Rectangle from '../math';\r\n\r\nexport default class Sprite extends Stage{\r\n    texture: Texture | undefined;\r\n    readonly shaderType  = 'sprite';\r\n    readonly renderingType: RenderingTypes = 'sprite';\r\n    \r\n    constructor(texture?: Texture){\r\n        super();\r\n        if(texture) {\r\n            this.texture = texture;\r\n        }\r\n    }\r\n\r\n    normalAnchor: NormalAnchor = new NormalAnchor();\r\n\r\n\r\n    protected _calculateTransform(): Array<number>{\r\n        const position = m3.translation(this.position.x, this.position.y);\r\n        const scaling = m3.scaling(this.scale.x, this.scale.y);\r\n        const rotation = m3.rotation(this.rotation);\r\n\r\n        let anchor;\r\n        if(this.texture && (this.normalAnchor.x || this.normalAnchor.y)){\r\n            anchor = m3.translation(-this.texture.width*this.normalAnchor.x, -this.texture.height*this.normalAnchor.y);\r\n        } else {\r\n            anchor = m3.translation(-this.anchor.x, -this.anchor.y);\r\n        }\r\n\r\n        const transform = m3.someMultiply(position, rotation, scaling, anchor);\r\n\r\n        return transform;\r\n    }\r\n\r\n    protected _getBoundingRect(): Rectangle{\r\n        const parentScale = this.worldScale;\r\n        const parentPos = this.worldPosition;\r\n        let anchor;\r\n        if(this.texture && (this.normalAnchor.x || this.normalAnchor.y)){\r\n            anchor = {x: this.texture.width * this.normalAnchor.x,\r\n                        y: this.texture.height * this.normalAnchor.y};\r\n        } else {\r\n            anchor = {x: this.anchor.x, y: this.anchor.y};\r\n        }\r\n        const x = parentPos.x + (this.position.x - anchor.x)*parentScale.x;\r\n        const y = parentPos.y + (this.position.y - anchor.y)*parentScale.y;\r\n        const w = (this.texture ? this.texture.width*this.texture.scale.x : this._size.width)*this.scale.x * parentScale.x;\r\n        const h = (this.texture ? this.texture.height*this.texture.scale.y : this._size.height)*this.scale.y * parentScale.y;\r\n\r\n        return new Rectangle(x, y, w, h);\r\n    }\r\n\r\n}","import AbstractDisplayObject from './abstract_display_object';\r\n\r\nimport Sprite from './sprite';\r\n\r\nimport { TwoDemensionParam } from './abstract_display_object';\r\n\r\nimport * as m3 from '../matrix';\r\n\r\nimport {eventType} from '../interaction/interaction';\r\n\r\nimport Rectangle from '../math/rectangle';\r\n\r\nimport {EventSet, IEvent, IPointerCo} from '../interaction/interaction';\r\n\r\nexport class Anchor extends TwoDemensionParam{\r\n    constructor(){\r\n        super();\r\n        this._x = 0;\r\n        this._y = 0;\r\n    }\r\n}\r\n\r\nimport { ShaderTypes, RenderingTypes } from './abstract_display_object';\r\nexport default class Stage extends AbstractDisplayObject{\r\n    anchor: Anchor = new Anchor();\r\n    transform: Array<number> = m3.identity();\r\n    parentTransform: Array<number> = m3.identity();\r\n    parentOpacity: number = 1;\r\n    parent: Stage | undefined = undefined;\r\n\r\n    readonly renderingType: RenderingTypes = '';\r\n    readonly shaderType: ShaderTypes = '';\r\n\r\n    private _zIndex: number = 0;\r\n    set zIndex(value: number){\r\n        this._zIndex = value;\r\n        if(this.parent) this.parent.needsToSort = true;\r\n    }\r\n    get zIndex(): number{\r\n        return this._zIndex;\r\n    }\r\n\r\n    needsToSort: boolean = false;\r\n\r\n    protected _size : {width: number, height: number} = {width: 0, height: 0};\r\n    set staticWidth(value: number){\r\n        this._size.width = value;\r\n    }\r\n    get staticWidth(): number{\r\n        return this._size.width;\r\n    }\r\n    set staticHeight(value: number){\r\n        this._size.height = value;\r\n    }\r\n    get staticHeight(): number{\r\n        return this._size.height;\r\n    }\r\n\r\n    protected _eventsSets: {pointerdown: EventSet, pointerup: EventSet, pointermove: EventSet, pointerout: EventSet}\r\n                        = {pointerdown: new Set, pointerup: new Set(), pointermove: new Set(), pointerout: new Set()};\r\n\r\n    children: Array<Stage> = [];\r\n    calcRenderingInfos(): void{\r\n        this.transform = this._calculateTransform();\r\n        this.parentTransform = this._calculateParentTransform();\r\n        this.parentOpacity = this._calculateParentOpacity();\r\n    }\r\n    addChild(obj: Stage): void{\r\n        if(!obj.parent){\r\n            obj.parent = this;\r\n            this.children.push(obj);\r\n        }\r\n    }\r\n    removeChild(obj: Stage): void{\r\n        this.children.splice(this.children.indexOf(obj), 1);\r\n        obj.parent = undefined;\r\n    }\r\n    protected _calculateTransform(): Array<number>{\r\n        const position = m3.translation(this.position.x, this.position.y);\r\n        const scaling = m3.scaling(this.scale.x, this.scale.y);\r\n        const rotation = m3.rotation(this.rotation);\r\n        const anchor = m3.translation(-this.anchor.x, -this.anchor.y);\r\n\r\n        const transform = m3.someMultiply(position, rotation, scaling, anchor);\r\n\r\n        return transform;\r\n    }\r\n    private _calculateParentTransform(): Array<number>{\r\n        if(this.parent) {\r\n            return m3.multiply(this.parent.parentTransform, this.parent.transform);\r\n        } else {\r\n            return m3.identity();\r\n        }\r\n    }\r\n    private _calculateParentOpacity(): number{\r\n        if(this.parent){\r\n            return this.parent.parentOpacity * this.parent.opacity;\r\n        } else{\r\n            return 1;\r\n        }\r\n    }\r\n    get wholeOpacity(): number{\r\n        return this.opacity * this.parentOpacity;\r\n    }\r\n\r\n    get worldScale(): {x: number, y: number}{\r\n        if(this.parent){\r\n            const parent = this.parent;\r\n            const worldScale = parent.worldScale;\r\n            return {x: worldScale.x * parent.scale.x, y: worldScale.y * parent.scale.y};\r\n        } else {\r\n            return {x: 1, y: 1};\r\n        }\r\n    }\r\n    get worldPosition(): {x: number, y: number}{\r\n        if(this.parent){\r\n            const parent = this.parent;\r\n            const parentWorldPos = parent.worldPosition;\r\n            const parentScale = parent.worldScale;\r\n            return {x: parentWorldPos.x + parent.position.x*parentScale.x, y: parentWorldPos.y + parent.position.y*parentScale.y};\r\n        } else {\r\n            return {x: 0, y: 0};\r\n        }\r\n    }\r\n    \r\n\r\n    set x(value: number){\r\n        this.position.x = value;\r\n    }\r\n    set y(value: number){\r\n        this.position.y = value;\r\n    }\r\n    get x(): number {\r\n        return this.position.x;\r\n    }\r\n    get y(): number {\r\n        return this.position.y;\r\n    }\r\n\r\n    get width(): number{\r\n        return this._size.width;\r\n    }\r\n    get height(): number{\r\n        return this._size.height;\r\n    }\r\n    set width(value: number){\r\n        this._size.width = value;\r\n    }\r\n    set height(value: number){\r\n        this._size.height = value;\r\n    }\r\n\r\n    addEventListener(type: eventType, callback: Function){\r\n        const e: IEvent = {target: this, callback: callback};\r\n        this._eventsSets[type].add(e);\r\n    }\r\n    protected _getBoundingRect(): Rectangle{\r\n        const parentScale = this.worldScale;\r\n        const parentPos = this.worldPosition;\r\n        const x = parentPos.x + (this.position.x - this.anchor.x)*parentScale.x;\r\n        const y = parentPos.y + (this.position.y - this.anchor.y)*parentScale.y;\r\n        const w = this._size.width*this.scale.x * parentScale.x;\r\n        const h = this._size.height*this.scale.y * parentScale.y;\r\n\r\n        return new Rectangle(x, y, w, h);\r\n    }\r\n    triggerEvent(type: eventType, co: IPointerCo): void{\r\n        const myRect = this._getBoundingRect();\r\n        if(myRect.detectPointHit(co.x, co.y)){\r\n            const events = this._eventsSets[type];\r\n            events.forEach((event: IEvent)=>{\r\n                event.callback(co);\r\n            });\r\n        }\r\n\r\n        this.propagateEvent(type, co);\r\n    }\r\n    propagateEvent(type: eventType, co: IPointerCo){\r\n        const children = this.children;\r\n        for(let i=0, len=children.length;i<len;i++){\r\n            children[i].triggerEvent(type, co);\r\n        }\r\n    }\r\n\r\n    sortChildren(): void{\r\n        this.children.sort((a, b)=>{return a.zIndex - b.zIndex;});\r\n    }\r\n}\r\n\r\nexport class BaseStage extends Stage{\r\n    readonly _size: {width: number, height: number};\r\n    constructor(width: number, height: number){\r\n        super();\r\n        this._size = {width: width, height: height};\r\n    }\r\n}","import Sprite from './sprite';\r\n\r\nimport Texture from '../texture/texture';\r\n\r\nimport { IResolution } from '../app/application';\r\n\r\nimport Resolution from '../static/resolution';\r\n\r\nimport { SCALE_MODE } from '../texture/texture';\r\n\r\nimport {Color, defaultColor} from './abstract_display_object';\r\n\r\nexport interface ITextStyle  {\r\n    font: string;\r\n    fontSize: number;\r\n    fill: Color;\r\n    strokeWidth: number;\r\n    stroke: Color;\r\n    shadow: Color;\r\n    shadowX: number;\r\n    shadowY: number;\r\n    shadowBlur: number;\r\n};\r\n\r\nconst defaultTextStyle: ITextStyle = {\r\n    font: 'sans-serif',\r\n    fontSize: 20,\r\n    fill: defaultColor,\r\n    strokeWidth: 0,\r\n    stroke: defaultColor,\r\n    shadow: defaultColor,\r\n    shadowX: 1,\r\n    shadowY: 1,\r\n    shadowBlur: 0\r\n};\r\n\r\n\r\nconst color2CanvasString = (color: Color) => {\r\n    return `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})`;\r\n}\r\n\r\nexport default class Text extends Sprite {\r\n    texture: Texture;\r\n    private _text: string = \"\";\r\n    private _style: ITextStyle;\r\n    private _canvas: HTMLCanvasElement = document.createElement('canvas')\r\n    private _resolution: IResolution = Resolution;\r\n    needsToUpdate: boolean = false;\r\n\r\n    constructor(text?: string, style?: ITextStyle){\r\n        super();\r\n\r\n        this._text = text || '';\r\n        style = Object.assign(defaultTextStyle, style);\r\n        this._style = style;\r\n        for(let styleName in defaultTextStyle){\r\n            this._style[styleName] = style[styleName] || defaultTextStyle[styleName];\r\n        }\r\n        \r\n        this.texture = new Texture(undefined, SCALE_MODE.LINEAR);\r\n        this.updateCanvasTexture();\r\n    }\r\n    private _drawCanvas(){\r\n        const canvas = this._canvas;\r\n        const cxt = canvas.getContext('2d')!;\r\n\r\n        const style = this._style;\r\n        const text = this._text;\r\n\r\n        canvas.width = 2;\r\n        canvas.height = 2;\r\n\r\n        cxt.font = `${style.fontSize}px ${style.font}`;\r\n        cxt.textBaseline = 'top';\r\n\r\n        const textData = cxt.measureText(text);\r\n        const textWidth = textData.width + (style.shadow ? style.shadowX : 0);\r\n        const textHeight = textData.actualBoundingBoxDescent - textData.actualBoundingBoxAscent + (style.shadow ? style.shadowY : 0);\r\n        canvas.width = textWidth*this._resolution.x;\r\n        canvas.height = textHeight*this._resolution.y;\r\n\r\n        cxt.scale(this._resolution.x, this._resolution.y);\r\n\r\n        cxt.clearRect(0, 0, canvas.width, canvas.height);\r\n        \r\n        cxt.beginPath();\r\n        if(style.shadowX || style.shadowY){\r\n            cxt.shadowOffsetX = style.shadowX;\r\n            cxt.shadowOffsetY = style.shadowY;\r\n            cxt.shadowBlur = style.shadowBlur;\r\n            cxt.shadowColor = color2CanvasString(style.shadow);\r\n        }\r\n        cxt.font = `${style.fontSize}px ${style.font}`;\r\n        cxt.textBaseline = 'top';\r\n        cxt.fillStyle = color2CanvasString(style.fill);\r\n        cxt.fillText(text, 0, 0);\r\n        cxt.closePath();\r\n\r\n        cxt.beginPath();\r\n        if(style.strokeWidth){\r\n            cxt.shadowOffsetX = 0;\r\n            cxt.shadowOffsetY = 0;\r\n            cxt.lineWidth = style.strokeWidth;\r\n            cxt.strokeStyle = color2CanvasString(style.stroke);\r\n            cxt.strokeText(text, 0, 0);\r\n        }\r\n\r\n        this.texture.scale.x = 1/this._resolution.x;\r\n        this.texture.scale.y = 1/this._resolution.y;\r\n    }\r\n\r\n    get text(): string{\r\n        return this._text;\r\n    }\r\n    set text(text: string){\r\n        this._text = text;\r\n        this.needsToUpdate = true;\r\n    }\r\n    async updateCanvasTexture(){\r\n        this._drawCanvas();\r\n        this.texture.texture = this._canvas;\r\n        this.needsToUpdate = false;\r\n    }\r\n\r\n    get style(): ITextStyle{\r\n        this.needsToUpdate = true;\r\n        return this._style;\r\n    }\r\n}","type ClockWize = -1 | 1;\r\n\r\nimport Graphics from \"../graphics\";\r\n\r\nimport {Color, GraphicsTypes} from '../graphics';\r\nimport { ShaderTypes, defaultColor } from \"../../display/abstract_display_object\";\r\n\r\n\r\nexport default class Circle extends Graphics{\r\n    readonly graphicsType: GraphicsTypes = 'circle';\r\n    readonly shaderType: ShaderTypes= 'circle';\r\n    color: Color = {r: 0, g: 0, b: 0, a: 1};\r\n    startAngle: number = 0;\r\n    endAngle: number = Math.PI*2;\r\n    clockWize: ClockWize = 1;\r\n    geometryInfo: {center: any, radius: number, color: Color} = {center: {x: 0, y: 0}, radius: 0, color: defaultColor};\r\n    \r\n    constructor(x: number, y: number, radius: number, r: number, g: number, b: number, a: number, start?: number, end?: number){\r\n        super();\r\n        this.geometryInfo.radius = radius;\r\n        this.geometryInfo.center = {x: x, y: y};\r\n        this.geometryInfo.color = {r: r, g: g, b: b, a: a};\r\n        this.startAngle = start || 0;\r\n        this.endAngle = end || Math.PI*2;\r\n    }\r\n\r\n    calcVertices(): number[] {\r\n        const vertices: number[] = [];\r\n        const {center, radius, color} = this.geometryInfo;\r\n        const {x, y} = center;\r\n        vertices.push(x-radius, y-radius, color.r, color.g, color.b, color.a);\r\n        vertices.push(x-radius, y+radius, color.r, color.g, color.b, color.a);\r\n        vertices.push(x+radius, y-radius, color.r, color.g, color.b, color.a);\r\n        vertices.push(x+radius, y+radius, color.r, color.g, color.b, color.a);\r\n        return vertices;\r\n    }\r\n    calcStrokeVertices(): number[] {\r\n        const vertices: number[] = [];\r\n        const {center, radius} = this.geometryInfo;\r\n        const {x, y} = center;\r\n        const wid = this._strokeWidth;\r\n        const stroke = this._stroke;\r\n        vertices.push(x-radius-wid, y-radius-wid, stroke.r, stroke.g, stroke.b, stroke.a);\r\n        vertices.push(x-radius-wid, y+radius+wid, stroke.r, stroke.g, stroke.b, stroke.a);\r\n        vertices.push(x+radius+wid, y-radius-wid, stroke.r, stroke.g, stroke.b, stroke.a);\r\n        vertices.push(x+radius+wid, y+radius+wid, stroke.r, stroke.g, stroke.b, stroke.a);\r\n        return vertices;\r\n    }\r\n}","import Graphics from \"../graphics\";\r\nimport { GraphicsTypes } from \"../graphics\";\r\nimport { ShaderTypes } from \"../../display/abstract_display_object\";\r\nimport { Color } from \"../graphics\";\r\nimport { defaultColor } from \"../../display/abstract_display_object\";\r\n\r\nexport default class Ellipse extends Graphics{\r\n    graphicsType: GraphicsTypes = 'ellipse';\r\n    shaderType: ShaderTypes = 'ellipse';\r\n    geometryInfo: {x: number, y: number, width: number, height: number, color: Color}\r\n                    = {x: 0, y: 0, width: 100, height: 50, color: defaultColor};\r\n\r\n    constructor(x: number, y: number, width: number, height: number, color: Color){\r\n        super();\r\n        this.geometryInfo = {\r\n            x: x, y: y, width: width, height: height, color: color\r\n        };\r\n    }\r\n\r\n    calcVertices(): number[] {\r\n        const vertices: number[] = [];\r\n        const {x, y, width, height, color} = this.geometryInfo;\r\n        const halfWid = width*0.5;\r\n        const halfHei = height*0.5;\r\n        vertices.push(\r\n            x-halfWid, y-halfHei, color.r, color.g, color.b, color.a,\r\n            x-halfWid, y+halfHei, color.r, color.g, color.b, color.a,\r\n            x+halfWid, y-halfHei, color.r, color.g, color.b, color.a,\r\n            x+halfWid, y+halfHei, color.r, color.g, color.b, color.a,\r\n        );\r\n        return vertices;\r\n    }\r\n    calcStrokeVertices(): number[] {\r\n        const vertices: number[] = [];\r\n        const {x, y, width, height} = this.geometryInfo;\r\n        const halfWid = width*0.5;\r\n        const halfHei = height*0.5;\r\n        const color = this._stroke;\r\n        const wid = this._strokeWidth;\r\n\r\n        vertices.push(\r\n            x-halfWid-wid, y-halfHei-wid, color.r, color.g, color.b, color.a,\r\n            x-halfWid-wid, y+halfHei+wid, color.r, color.g, color.b, color.a,\r\n            x+halfWid+wid, y-halfHei-wid, color.r, color.g, color.b, color.a,\r\n            x+halfWid+wid, y+halfHei+wid, color.r, color.g, color.b, color.a,\r\n        );\r\n        return vertices;\r\n    }\r\n\r\n}","import Graphics from \"../graphics\";\r\nimport { ShaderTypes } from \"../../display/abstract_display_object\";\r\nimport {GraphicsTypes} from '../graphics';\r\n\r\nexport default class RoundedRect extends Graphics{\r\n    readonly shaderType: ShaderTypes = 'roundedrect';\r\n    readonly graphicsType: GraphicsTypes = 'roundedrect';\r\n\r\n    geometryInfo: any;\r\n\r\n    constructor(x: number, y: number, w: number, h: number, radius: number, ...colors: number[][]){\r\n        super();\r\n        this.geometryInfo = {\r\n            x: x, y: y, w: w, h: h, radius: radius,\r\n            colors: colors\r\n        };\r\n    }\r\n\r\n    calcVertices(): number[]{\r\n        const {x, y, w, h, colors} = this.geometryInfo;\r\n        const vertices = [\r\n            x, y, colors[0][0], colors[0][1], colors[0][2], colors[0][3],\r\n            x, y+h, colors[1][0], colors[1][1], colors[1][2], colors[1][3],\r\n            x+w, y, colors[2][0], colors[2][1], colors[2][2], colors[2][3],\r\n            x+w, y+h, colors[3][0], colors[3][1], colors[3][2], colors[3][3],\r\n        ];\r\n        return vertices;\r\n    }\r\n    calcStrokeVertices(): number[] {\r\n        const {x, y, w, h} = this.geometryInfo;\r\n        const strokeCol = this._stroke;\r\n        const wid = this._strokeWidth;\r\n        const vertices = [\r\n            x-wid, y-wid, strokeCol.r, strokeCol.g, strokeCol.b, strokeCol.a,\r\n            x-wid, y+h+wid, strokeCol.r, strokeCol.g, strokeCol.b, strokeCol.a,\r\n            x+w+wid, y-wid, strokeCol.r, strokeCol.g, strokeCol.b, strokeCol.a,\r\n            x+w+wid, y+h+wid, strokeCol.r, strokeCol.g, strokeCol.b, strokeCol.a,\r\n        ];\r\n        return vertices;\r\n    }\r\n}","import Stage from '../display/stage';\r\n\r\nimport { Color, defaultColor } from '../display/abstract_display_object';\r\nexport {Color};\r\n\r\nimport { RenderingTypes } from '../display/abstract_display_object';\r\n\r\nexport type GraphicsTypes = 'line' | 'rectangle' | 'triangle' | 'circle' | 'roundedrect' | 'ellipse';\r\n\r\nexport default abstract class Graphics extends Stage {\r\n    abstract readonly graphicsType: GraphicsTypes;\r\n    abstract calcVertices(): number[];\r\n    abstract calcStrokeVertices(): number[];\r\n\r\n    abstract geometryInfo: any | undefined;//\r\n    readonly renderingType: RenderingTypes = 'graphics';\r\n    vertices: number[] = [];\r\n    strokeVertices: number[] = [];\r\n    needsUpdatingVertices: boolean = true;\r\n    needsUpdatingStroke: boolean = false;\r\n\r\n    protected _strokeWidth: number = 0;\r\n    protected _stroke: Color = defaultColor\r\n    get strokeWidth(){\r\n        this.needsUpdatingStroke = true;\r\n        return this._strokeWidth;\r\n        \r\n    }\r\n    set strokeWidth(value: number){\r\n        this._strokeWidth = value;\r\n        this.needsUpdatingStroke = true;\r\n    }\r\n    get stroke(){\r\n        this.needsUpdatingStroke = true;\r\n        return this._stroke;\r\n        \r\n    }\r\n    set stroke(value: Color){\r\n        this._stroke = value;\r\n        this.needsUpdatingStroke = true;\r\n    }\r\n\r\n    getGeometry() {\r\n        this.needsUpdatingVertices = true;\r\n        return this.geometryInfo;\r\n    }\r\n\r\n}\r\n\r\n","\r\nimport Line from './polygon/line';\r\nimport Triangle from './polygon/triangle';\r\nimport Rectangle from './polygon/rectangle';\r\nimport Circle from './circle/circle';\r\nimport RoundedRect from './circle/rounded_rect';\r\nimport Ellipse from './circle/ellipse';\r\nexport {Line, Triangle, Rectangle, Circle, RoundedRect, Ellipse};","import Graphics from '../graphics';\r\nimport { ShaderTypes } from '../../display/abstract_display_object';\r\nimport {GraphicsTypes} from '../graphics';\r\n\r\n\r\n\r\nexport default class Line extends Graphics{\r\n    readonly shaderType: ShaderTypes = 'polygon'\r\n    readonly graphicsType: GraphicsTypes = 'line';\r\n    readonly geometryInfo: number[][] = [];\r\n    constructor(...vertices: number[][]){\r\n        super();\r\n        this.geometryInfo = vertices;\r\n    }\r\n    calcVertices(){\r\n        const vertices: number[] = [];\r\n        for(let i=0, len=this.geometryInfo.length;i<len;i++){\r\n            for(let j=0;j<6;j++){\r\n                vertices.push(this.geometryInfo[i][j]);\r\n            }\r\n        }\r\n        return vertices;\r\n    }\r\n    calcStrokeVertices(): number[] {\r\n        return [];\r\n    }\r\n\r\n}","import { ShaderTypes } from '../../display/abstract_display_object';\r\nimport Graphics from '../graphics';\r\n\r\nimport {GraphicsTypes} from '../graphics';\r\n\r\nexport default class Rectangle extends Graphics{\r\n    readonly shaderType: ShaderTypes = 'polygon';\r\n    readonly graphicsType: GraphicsTypes = 'rectangle';\r\n    geometryInfo: {x: number, y: number, w: number, h: number, colors: number[][]} = {x: 0, y: 0, w: 0, h: 0, colors: []};\r\n    constructor(x: number, y: number, w: number, h: number, ...color: number[][]){\r\n        super();\r\n        this.geometryInfo = {\r\n            x: x, y: y, w: w, h: h, colors: color\r\n        };\r\n    }\r\n    calcVertices(): number[]{\r\n        const {x, y, w, h, colors} = this.geometryInfo;\r\n        const vertices: number[] = [];\r\n        vertices.push(x, y, colors[0][0], colors[0][1], colors[0][2], colors[0][3]);\r\n        vertices.push(x, y+h, colors[1][0], colors[1][1], colors[1][2], colors[1][3]);\r\n        vertices.push(x+w, y, colors[2][0], colors[2][1], colors[2][2], colors[2][3]);\r\n        vertices.push(x+w, y+h, colors[3][0], colors[3][1], colors[3][2], colors[3][3]);\r\n        return vertices;\r\n    }\r\n    calcStrokeVertices(): number[]{\r\n        const {x, y, w, h} = this.geometryInfo;\r\n        const wid = this._strokeWidth;\r\n        const color = this._stroke;\r\n        const vertices: number[] = [];\r\n        vertices.push(x-wid, y-wid, color.r, color.g, color.b, color.a);\r\n        vertices.push(x-wid, y+h+wid, color.r, color.g, color.b, color.a);\r\n        vertices.push(x+w+wid, y-wid, color.r, color.g, color.b, color.a);\r\n        vertices.push(x+w+wid, y+h+wid, color.r, color.g, color.b, color.a);\r\n        return vertices;  \r\n    }\r\n\r\n}","\r\nimport Line from './line';\r\nimport { GraphicsTypes } from '../graphics';\r\n\r\nexport default class Triangle extends Line{\r\n    readonly graphicsType: GraphicsTypes = 'triangle';\r\n    constructor(){\r\n        super();\r\n    }\r\n}","import App from './app';\r\nimport {Sprite, Stage, Text} from './display';\r\nimport Texture from './texture';\r\nimport Loader from './loader';\r\n\r\nimport * as Graphics from './graphics';\r\n\r\nexport { App, Sprite, Texture, Stage, Text, Loader, Graphics }; ","import { IScreenSize } from \"../app/application\";\r\nimport type Stage from '../display/stage';\r\n\r\nexport interface IPointerCo {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\n\r\nexport type eventType = 'pointerdown' | 'pointerup' | 'pointermove' | 'pointerout';\r\n\r\nexport interface IEvent{\r\n    target: Stage;\r\n    callback: Function;\r\n}\r\n\r\nexport type EventSet = Set<IEvent>;\r\n\r\nexport default class InteractionManager {\r\n    static screenSize: IScreenSize = {width: 0, height: 0};\r\n    private static _canvasSize: {w: number, h: number} = {w: 0, h: 0};\r\n    private static _canvas: HTMLCanvasElement | undefined;\r\n\r\n    private static _getPointerCo(e: PointerEvent): IPointerCo{\r\n        const size = this._canvasSize;\r\n        return {x: e.offsetX*this.screenSize.width/size.w,\r\n                y: e.offsetY*this.screenSize.height/size.h};\r\n    }\r\n    static enableEvent(type: eventType, canvas: HTMLCanvasElement, baseStage: Stage): void{\r\n        this.canvas = canvas;\r\n        canvas.addEventListener(type, (e)=>{\r\n            const co = this._getPointerCo(e);\r\n            baseStage.triggerEvent(type, co);\r\n\r\n            \r\n        });\r\n\r\n\r\n    }\r\n    static set canvas(canvas: HTMLCanvasElement){\r\n        this._canvas = canvas;\r\n        this._canvasSize = this._getCanvasSize(canvas);\r\n        this._resizeObserver = new ResizeObserver(()=>{\r\n            this._canvasSize = this._getCanvasSize(canvas);\r\n        });\r\n        this._resizeObserver.observe(document.body);\r\n        canvas.addEventListener('touchstart', this._preventTouchScroll);\r\n    }\r\n    private static _preventTouchScroll(e:Event){\r\n        e.preventDefault();\r\n    }\r\n    private static _resizeObserver : ResizeObserver | undefined;\r\n    private static _getCanvasSize(canvas: HTMLCanvasElement){\r\n        return {w: canvas.clientWidth, h: canvas.clientHeight};\r\n    }\r\n\r\n    static disablePreventScrolling(canvas: HTMLCanvasElement): void{\r\n        canvas.removeEventListener('touchstart', this._preventTouchScroll);\r\n    }\r\n    static enablePreventScrolling(canvas: HTMLCanvasElement): void{\r\n        console.log(this._canvas);\r\n        canvas.addEventListener('touchstart', this._preventTouchScroll);\r\n    }\r\n}","import Loader from \"./loader\";\r\nexport default Loader;","type ProgressManager = (all: number, rest: number)=>void;\r\n\r\nimport Texture from '../texture/texture';\r\nimport { SCALE_MODE } from '../texture/texture';\r\n\r\nexport default class Loader {\r\n    private static _resources: Map<string, Texture> = new Map();\r\n    private static _tasks: Array<Promise<unknown>> = [];\r\n    private static _loadThen: Function = function(){};\r\n    private static _taskNum: number = 0;\r\n    private static _progressManager: ProgressManager = ()=>{};\r\n\r\n    static loaded: boolean = false;\r\n\r\n    static add(id: string, src: string, scaleMode?: string): Loader{\r\n        this.loaded = false;\r\n        const promise = this._promiseLoadingImage(id, src, scaleMode);\r\n        this._tasks.push(promise);\r\n        \r\n        return this;\r\n    }\r\n    static loadAll(): void{\r\n        this._taskNum = this._tasks.length;\r\n        this._progressManager(this._taskNum, this._taskNum);\r\n        Promise.all(this._tasks)\r\n            .then(()=>{\r\n                this.loaded = true;\r\n                this._loadThen();\r\n            });\r\n        \r\n    }\r\n    private static _promiseLoadingImage(id: string, src: string, scaleMode: string = 'NEAREST'): Promise<unknown>{\r\n        const promise = new Promise((resolve)=>{\r\n            fetch(src).then(res=>res.blob())\r\n                    .then(blob=>createImageBitmap(blob))\r\n                    .then(data=>{\r\n                        this._resources.set(id, new Texture(data, SCALE_MODE[scaleMode]));\r\n                        this._tasks.shift();\r\n                        this._progressManager(this._taskNum, this._tasks.length);\r\n                        resolve(data);\r\n                    });\r\n        });\r\n        return promise;\r\n    }\r\n    static loadThen(func: Function){\r\n        this._loadThen = func;\r\n\r\n        if(this._tasks.length === 0){\r\n            func();\r\n        }\r\n    }\r\n    static manageProgress(func: ProgressManager){\r\n        this._progressManager = func;\r\n    }\r\n    \r\n\r\n    static get(id: string): Texture | undefined{\r\n        if(this._resources.has(id)){\r\n            return this._resources.get(id);\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }\r\n}","import Rectangle from \"./rectangle\";\r\nexport default Rectangle;","export default class Rectangle{\r\n    x: number = 0;\r\n    y: number = 0;\r\n    w: number = 0;\r\n    h: number = 0;\r\n    constructor(x: number, y: number, w: number, h: number){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.w = w;\r\n        this.h = h;\r\n    }\r\n    detectPointHit(x: number, y: number): boolean{\r\n        return this.x < x && this.x + this.w > x\r\n                && this.y < y && this.y + this.h > y;\r\n    }\r\n}","function projection(width: number, height: number){\r\n    return [\r\n        2/width, 0, 0,\r\n        0, -2/height, 0,\r\n        -1, 1, 1\r\n    ];\r\n}\r\n\r\nfunction scaling(x: number, y: number) {\r\n    return [\r\n        x, 0, 0,\r\n        0, y, 0,\r\n        0, 0, 1\r\n    ];\r\n};\r\n\r\nfunction translation(x: number, y: number){\r\n    return [\r\n        1, 0, 0,\r\n        0, 1, 0,\r\n        x, y, 1\r\n    ];\r\n}\r\n\r\nfunction rotation(angle: number){\r\n    const sin = Math.sin(angle);\r\n    const cos = Math.cos(angle);\r\n    return [\r\n        cos, -sin, 0,\r\n        sin,  cos, 0,\r\n        0,     0,  1\r\n    ];\r\n}\r\n\r\nfunction multiply(a: Array<number>, b: Array<number>): Array<number> {\r\n    var a00 = a[0 * 3 + 0];\r\n    var a01 = a[0 * 3 + 1];\r\n    var a02 = a[0 * 3 + 2];\r\n    var a10 = a[1 * 3 + 0];\r\n    var a11 = a[1 * 3 + 1];\r\n    var a12 = a[1 * 3 + 2];\r\n    var a20 = a[2 * 3 + 0];\r\n    var a21 = a[2 * 3 + 1];\r\n    var a22 = a[2 * 3 + 2];\r\n    var b00 = b[0 * 3 + 0];\r\n    var b01 = b[0 * 3 + 1];\r\n    var b02 = b[0 * 3 + 2];\r\n    var b10 = b[1 * 3 + 0];\r\n    var b11 = b[1 * 3 + 1];\r\n    var b12 = b[1 * 3 + 2];\r\n    var b20 = b[2 * 3 + 0];\r\n    var b21 = b[2 * 3 + 1];\r\n    var b22 = b[2 * 3 + 2];\r\n    return [\r\n        b00 * a00 + b01 * a10 + b02 * a20,\r\n        b00 * a01 + b01 * a11 + b02 * a21,\r\n        b00 * a02 + b01 * a12 + b02 * a22,\r\n        b10 * a00 + b11 * a10 + b12 * a20,\r\n        b10 * a01 + b11 * a11 + b12 * a21,\r\n        b10 * a02 + b11 * a12 + b12 * a22,\r\n        b20 * a00 + b21 * a10 + b22 * a20,\r\n        b20 * a01 + b21 * a11 + b22 * a21,\r\n        b20 * a02 + b21 * a12 + b22 * a22,\r\n    ];\r\n}\r\n\r\nfunction someMultiply(...mat: Array<Array<number>>): Array<number>{\r\n    let tmp = mat[0];\r\n    for(let i=0, len=mat.length-1;i<len;i++){\r\n        tmp = multiply(tmp, mat[i+1]);\r\n    }\r\n    return tmp;\r\n}\r\n\r\nfunction identity(): Array<number>{\r\n    return [\r\n        1, 0, 0,\r\n        0, 1, 0,\r\n        0, 0, 1\r\n    ];\r\n}\r\n\r\nexport {projection, scaling, translation, rotation, multiply, someMultiply, identity};","export function enableAlpha(gl: WebGL2RenderingContext){\r\n    gl.enable(gl.BLEND);\r\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\r\n}","function  createBuffer(gl: WebGL2RenderingContext, type: number, ary: any): WebGLBuffer{\r\n    const buffer = gl.createBuffer()!;\r\n    gl.bindBuffer(type, buffer);\r\n    gl.bufferData(type, ary, gl.STATIC_DRAW);\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\r\n    return buffer;\r\n}\r\n\r\n\r\nimport { attribPrefix } from \"../settings\";\r\n\r\n\r\nimport { IAttribParam } from \"../settings\";\r\nexport function createLinkedVBO(gl: WebGL2RenderingContext, program: WebGLProgram, \r\n                                attrParams: Array<IAttribParam>){\r\n\r\n    const vbo = gl.createBuffer()!;\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n\r\n    for(let i=0, len=attrParams.length;i<len;i++){\r\n        const param = attrParams[i];\r\n        const loc = gl.getAttribLocation(program, attribPrefix + param.name);\r\n        gl.enableVertexAttribArray(loc);\r\n        gl.vertexAttribPointer(loc, param.size, gl[param.type], false, param.stride, param.offset);\r\n    }\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\r\n    return vbo;\r\n\r\n}\r\n\r\nexport function createLinkedVertexBuffer(gl: WebGL2RenderingContext, program: WebGLProgram, positionAttribName: string, coordAttribName: string){\r\n    const positionAttribLocation = gl.getAttribLocation(program, positionAttribName);\r\n    const texcoordAttribLocation = gl.getAttribLocation(program, coordAttribName);\r\n\r\n\r\n    const positionSize = 2;\r\n    const textureSize = 2;\r\n    const type = gl.FLOAT;\r\n    const normalize = false;\r\n    const stride = Float32Array.BYTES_PER_ELEMENT * (positionSize + textureSize);\r\n    const offset = Float32Array.BYTES_PER_ELEMENT * positionSize;\r\n\r\n    const vertexBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n    gl.enableVertexAttribArray(positionAttribLocation);\r\n    gl.enableVertexAttribArray(texcoordAttribLocation);\r\n    gl.vertexAttribPointer(positionAttribLocation, positionSize, type, normalize, stride, 0);\r\n    gl.vertexAttribPointer(texcoordAttribLocation, textureSize, type, normalize, stride, offset);\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n\r\n    return vertexBuffer!;\r\n}\r\n\r\nexport function createRectangleIndices(gl: WebGL2RenderingContext){\r\n    const indices = new Uint16Array(\r\n        [0, 1, 2, \r\n         1, 3, 2]);\r\n    const indexBuffer = createBuffer(gl, gl.ELEMENT_ARRAY_BUFFER, indices);\r\n    return indexBuffer;\r\n}\r\n","export function clearCanvas(gl: WebGL2RenderingContext, color: {r: number, g: number, b: number, a?: number}){\r\n    const colorByte = 256;\r\n\r\n    const r = color.r/colorByte;\r\n    const g = color.g/colorByte;\r\n    const b = color.b/colorByte;\r\n    const a = color.a === undefined ? 1 : color.a;\r\n    gl.clearColor(r, g, b, a);\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n}\r\n\r\nexport function resizeCanvas(gl: WebGL2RenderingContext, resolution: number){\r\n    const canvas = gl.canvas;\r\n    const styleWidth = canvas.clientWidth;\r\n    const styleHeight = canvas.clientHeight;\r\n\r\n    canvas.width = styleWidth * resolution;\r\n    canvas.height = styleHeight * resolution;\r\n\r\n    gl.viewport(0, 0, canvas.width, canvas.height);\r\n}","import { createProgramInfo, IProgramInfo } from './program';\r\nimport { createLinkedVertexBuffer, createLinkedVBO, createRectangleIndices} from './buffer';\r\nimport {createTexture, uploadTexture} from './texture';\r\nimport { enableAlpha } from './alpha';\r\nimport { clearCanvas, resizeCanvas } from './canvas';\r\nimport { getUniformLocation } from './uniform';\r\n\r\nexport {createProgramInfo, IProgramInfo,\r\n        createRectangleIndices, createLinkedVBO, createLinkedVertexBuffer,\r\n        createTexture, uploadTexture, \r\n        enableAlpha,\r\n        clearCanvas, resizeCanvas, \r\n        getUniformLocation\r\n};","function createShader(gl: WebGLRenderingContext, type: number, src: string): WebGLShader{\r\n    const shader = gl.createShader(type);\r\n    if(!shader){\r\n        throw new Error('failed to create a shader');\r\n    }\r\n    gl.shaderSource(shader, src);\r\n    gl.compileShader(shader);\r\n\r\n    if(!gl.getShaderParameter(shader, gl.COMPILE_STATUS)){\r\n        console.log(gl.getShaderInfoLog(shader));\r\n        gl.deleteShader(shader);\r\n    }\r\n\r\n    return shader;\r\n}\r\n\r\nfunction createLinkedProgram(gl: WebGL2RenderingContext, ...shaders: WebGLShader[]): WebGLProgram{\r\n    const program = gl.createProgram();\r\n    if(!program){\r\n        throw new Error('failed to create program');\r\n    }\r\n\r\n    for(let i=0, len=shaders.length;i<len;i++){\r\n        gl.attachShader(program, shaders[i]);\r\n    }\r\n    gl.linkProgram(program);\r\n\r\n    if(!gl.getProgramParameter(program, gl.LINK_STATUS)){\r\n        console.log(gl.getProgramInfoLog(program));\r\n        gl.deleteProgram(program);\r\n    }\r\n\r\n    return program;\r\n    \r\n}\r\n\r\n\r\nfunction createProgram(gl: WebGL2RenderingContext, vSource: string, fSource: string){\r\n    const vShader = createShader(gl, gl.VERTEX_SHADER, vSource);\r\n    const fShader = createShader(gl, gl.FRAGMENT_SHADER, fSource);\r\n    const program = createLinkedProgram(gl, vShader, fShader);\r\n\r\n    return program;\r\n}\r\n\r\n\r\n\r\nimport {IAttribParam} from '../settings';\r\nimport {createLinkedVBO, createRectangleIndices} from './buffer';\r\nimport {getUniformLocation} from './uniform';\r\n\r\nexport interface IProgramInfo{\r\n    program: WebGLProgram;\r\n    vbo: Object;\r\n    ibo: Object;\r\n    uniforms: Object;\r\n    pointAttrs: Function;\r\n}\r\n\r\nimport { attribPrefix, uniformPrefix } from '../settings';\r\n\r\nexport function createProgramInfo(gl: WebGL2RenderingContext, vss: string, fss: string,\r\n    attribParams: Array<IAttribParam>, \r\n    uniNames: Array<string>): IProgramInfo{\r\n    const program = createProgram(gl, vss, fss);\r\n    const vbo = createLinkedVBO(gl, program, attribParams);\r\n    const ibo = createRectangleIndices(gl);\r\n    const uniforms = {};\r\n    for(let i=0, len=uniNames.length;i<len;i++){\r\n        const name = uniNames[i];\r\n        uniforms[name] = getUniformLocation(gl, program, uniformPrefix+ name);\r\n    }\r\n\r\n    const point = ()=>{\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n        for(let i=0, len=attribParams.length;i<len;i++){\r\n            const param = attribParams[i];\r\n            gl.vertexAttribPointer(gl.getAttribLocation(program, attribPrefix + param.name),\r\n                                    param.size, gl[param.type], false, param.stride, param.offset);\r\n        }\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n    };\r\n\r\n    return {\r\n        program: program,\r\n        vbo: vbo,\r\n        ibo: ibo,\r\n        uniforms: uniforms,\r\n        pointAttrs: point\r\n    }\r\n}\r\n","import { TextureOriginalImage } from '../../texture/texture';\r\n\r\nexport function createTexture(gl: WebGL2RenderingContext, param: string): WebGLTexture{\r\n    const texture = gl.createTexture()!;\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl[param]);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\r\n    gl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n    return texture;\r\n}\r\n\r\nexport function uploadTexture(gl: WebGL2RenderingContext, texture: WebGLTexture, img: TextureOriginalImage): WebGLTexture{;\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\r\n    gl.generateMipmap(gl.TEXTURE_2D);\r\n    gl.bindTexture(gl.TEXTURE_2D, null);\r\n\r\n    return texture;\r\n}\r\n\r\n","export function getUniformLocation(gl: WebGL2RenderingContext, program: WebGLProgram, uniformName: string){\r\n    return gl.getUniformLocation(program, uniformName)!;\r\n}","import Stage from '../display/stage';\r\nimport Context from '../static/context';\r\nimport type Graphics from '../graphics/graphics';\r\nimport type Text from '../display/text';\r\n\r\nimport * as glutils from './glutils';\r\nimport * as m3 from '../matrix';\r\n\r\nimport * as Settings from './settings';\r\nimport {getDrawSize, getIndices, drawModes, getUniformUploadFunc, getStrokeUniformOptions} from './settings';\r\nimport { Sprite } from '../display';\r\n\r\ninterface IRendererParams{\r\n    canvas: HTMLCanvasElement;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\n\r\ntype Shaders = {\r\n    sprite?: glutils.IProgramInfo;\r\n    polygon?: glutils.IProgramInfo;\r\n    circle?: glutils.IProgramInfo;\r\n}\r\n\r\n\r\nexport default class Renderer{\r\n    canvas: HTMLCanvasElement;\r\n    gl: WebGL2RenderingContext;\r\n    resolution: number = window.devicePixelRatio || 1;\r\n\r\n    private _screenSize: {width: number, height: number};\r\n    private _projectionMat: number[] = [];\r\n\r\n    private _shaders: Shaders = {};\r\n    private _renderMethods: Object = {sprite: this.renderSprite.bind(this), \r\n                                    graphics: this.renderGraphics.bind(this)};\r\n\r\n    constructor(params: IRendererParams){\r\n\r\n        const {canvas, width, height} = params;\r\n\r\n        this.canvas = canvas;\r\n\r\n        this._screenSize = {width: width, height: height};\r\n        this._projectionMat = m3.projection(width, height);\r\n\r\n        \r\n        this.gl = this.canvas.getContext('webgl2')!;\r\n        const gl = this.gl;\r\n        Context.gl = gl;\r\n\r\n        this._resizeCanvas();\r\n\r\n        //alpha\r\n        glutils.enableAlpha(gl);\r\n\r\n        //gl\r\n        const programInfos = Settings.programInfos;\r\n        for(let i=0, len=programInfos.length;i<len;i++){\r\n            const info = programInfos[i];\r\n            this._shaders[info.name] = glutils.createProgramInfo(gl, info.vss, info.fss, info.attribParams, info.uniforms);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render(obj: Stage): void{\r\n        obj.calcRenderingInfos();\r\n\r\n        //render for each obj's renderType\r\n        if(obj.renderingType){\r\n            this._renderMethods[obj.renderingType](obj);\r\n        }\r\n        \r\n\r\n        if(obj.needsToSort){\r\n            obj.sortChildren();\r\n            obj.needsToSort = false;\r\n        }\r\n        const children = obj.children;\r\n        for(let i=0, len=children.length;i<len;i++){\r\n            this.render(children[i]);\r\n        }\r\n    }\r\n\r\n\r\n    renderSprite(sprite: Sprite): void{\r\n        const texture = sprite.texture;\r\n        if(!texture){\r\n            return;\r\n        }\r\n\r\n        if((sprite as Text).needsToUpdate){\r\n            (sprite as Text).updateCanvasTexture();\r\n        }\r\n\r\n        const gl = this.gl;\r\n\r\n        const programInfo = this._shaders.sprite!;\r\n        const {program, uniforms, vbo, ibo} = programInfo;\r\n\r\n        gl.useProgram(program);\r\n\r\n        const textureUnitID = 0;\r\n        const glTexture = texture.glTexture!;\r\n        gl.uniform1i(uniforms['texture'], textureUnitID);\r\n        gl.activeTexture(gl.TEXTURE0 + textureUnitID);\r\n        gl.bindTexture(gl.TEXTURE_2D, glTexture);\r\n\r\n        const textureScaling = m3.scaling(texture.scale.x, texture.scale.y);\r\n        const transformation = m3.someMultiply(this._projectionMat, sprite.parentTransform, sprite.transform, textureScaling);\r\n        gl.uniformMatrix3fv(uniforms['transformation'], false, transformation);\r\n\r\n        gl.uniform1f(uniforms['opacity'], sprite.wholeOpacity);\r\n\r\n\r\n        const vertexBuffer = vbo;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n\r\n        const textureSize = {w: texture.width, h: texture.height};\r\n\r\n        const vertices = [\r\n            0, 0,\r\n            0, 0,\r\n            0, textureSize.h,\r\n            0, 1,\r\n            textureSize.w, 0,\r\n            1, 0,\r\n            textureSize.w, textureSize.h,\r\n            1, 1\r\n        ];\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.DYNAMIC_DRAW);\r\n        programInfo.pointAttrs();\r\n\r\n        const indexBuffer = ibo;\r\n        const size = 6;\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\r\n        gl.drawElements(gl.TRIANGLES, size, gl.UNSIGNED_SHORT, 0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        gl.bindTexture(gl.TEXTURE_2D, null);\r\n    }\r\n\r\n    renderGraphics(obj: Graphics){\r\n        \r\n        const programInfo = this._shaders[obj.shaderType]!;\r\n        const {program, uniforms, vbo, ibo} = programInfo;\r\n        const gl = this.gl;\r\n\r\n        gl.useProgram(program);\r\n\r\n        //common process for graphics\r\n        const transformation = m3.someMultiply(this._projectionMat, obj.parentTransform, obj.transform);\r\n        gl.uniformMatrix3fv(uniforms['transformation'], false, transformation);\r\n        gl.uniform1f(uniforms['opacity'], obj.wholeOpacity);\r\n\r\n        getUniformUploadFunc[obj.shaderType](gl, uniforms, obj.geometryInfo);\r\n\r\n        const strokeUniformOptions = getStrokeUniformOptions[obj.shaderType];\r\n\r\n        const draw = (vertices: number[], isStroke: number = 0) => {\r\n            strokeUniformOptions(gl, uniforms, obj.geometryInfo, isStroke, obj.strokeWidth);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\r\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.DYNAMIC_DRAW);\r\n            programInfo.pointAttrs();\r\n            const size = getDrawSize[obj.graphicsType](obj);\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\r\n            const indices = getIndices[obj.graphicsType](obj);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.DYNAMIC_DRAW);\r\n            gl.drawElements(gl[drawModes[obj.graphicsType]], size, gl.UNSIGNED_SHORT, 0);\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        }\r\n\r\n        if(obj.needsUpdatingVertices){\r\n            obj.vertices = obj.calcVertices();\r\n            obj.needsUpdatingVertices = false;\r\n        }\r\n        if(obj.needsUpdatingStroke){\r\n            obj.strokeVertices = obj.calcStrokeVertices();\r\n            obj.needsUpdatingStroke = false;\r\n        }\r\n\r\n        if(obj.strokeWidth) draw(obj.strokeVertices, 1);\r\n        draw(obj.vertices, 0);\r\n    }\r\n\r\n\r\n\r\n\r\n    clear(r: number, g: number, b: number, a?: number): void{\r\n        glutils.clearCanvas(this.gl, {r: r, g: g, b: b, a: a});\r\n    }\r\n    private _resizeCanvas(){\r\n        glutils.resizeCanvas(this.gl, this.resolution);\r\n    }\r\n    set width(value: number){\r\n        this._screenSize.width = value;\r\n        this._projectionMat = m3.projection(value, this._screenSize.height);\r\n    }\r\n    set height(value: number){\r\n        this._screenSize.height = value;\r\n        this._projectionMat = m3.projection(this._screenSize.width, value);\r\n    }\r\n    flush(): void{\r\n        this.gl.flush();\r\n    }\r\n\r\n\r\n}\r\n","import spriteVSS from './shader_sources/sprite/vertex.glsl';\r\nimport spriteFSS from './shader_sources/sprite/fragment.glsl';\r\nimport lineVSS from './shader_sources/polygon/vertex.glsl';\r\nimport lineFSS from './shader_sources/polygon/fragment.glsl';\r\nimport circleVSS from './shader_sources/circle/vertex.glsl';\r\nimport circleFSS from './shader_sources/circle/fragment.glsl';\r\nimport rrVSS from './shader_sources/roundedrect/vertex.glsl';\r\nimport rrFSS from './shader_sources/roundedrect/fragment.glsl';\r\nimport ellipseVSS from './shader_sources/ellipse/vertex.glsl';\r\nimport ellipseFSS from './shader_sources/ellipse/fragment.glsl';\r\n\r\nimport type Graphics from '../graphics/graphics';\r\nimport { Line, Circle, Triangle, Rectangle, RoundedRect } from '../graphics';\r\nimport Renderer from './renderer';\r\n\r\nexport interface IProgramStructure{\r\n    name: string;\r\n    vss: string;\r\n    fss: string;\r\n    attribParams: Array<IAttribParam>;\r\n    uniforms: Array<string>;\r\n}\r\n\r\nexport interface IAttribParam {\r\n    name: string;\r\n    size: number;\r\n    type: string;\r\n    stride: number;\r\n    offset: number;\r\n}\r\n\r\n\r\nconst positionSize = 2;\r\nconst texcoordSize = 2;\r\nconst colorSize = 4;\r\nfunction getFloatBytes(value: number) : number{\r\n    return Float32Array.BYTES_PER_ELEMENT * value;\r\n}\r\nexport const programInfos: Array<IProgramStructure> = [\r\n    {   \r\n        name: 'sprite',\r\n        vss: spriteVSS,\r\n        fss: spriteFSS,\r\n        attribParams: [\r\n            {name: 'position', size: positionSize, type: 'FLOAT', stride: getFloatBytes(positionSize+texcoordSize), offset: 0},\r\n            {name: 'texcoord', size: texcoordSize, type: 'FLOAT', stride: getFloatBytes(positionSize+texcoordSize), offset: getFloatBytes(positionSize)}\r\n        ],\r\n        uniforms: ['transformation', 'opacity', 'texture']\r\n    },\r\n    {\r\n        name: 'polygon',\r\n        vss: lineVSS,\r\n        fss: lineFSS,\r\n        attribParams: [\r\n            {name: 'position', size: positionSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: 0},\r\n            {name: 'color', size: colorSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: getFloatBytes(positionSize)}\r\n        ],\r\n        uniforms: ['transformation', 'opacity']\r\n    },\r\n    {\r\n        name: 'circle',\r\n        vss: circleVSS,\r\n        fss: circleFSS,\r\n        attribParams: [\r\n            {name: 'position', size: positionSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: 0},\r\n            {name: 'color', size: colorSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: getFloatBytes(positionSize)}\r\n        ], uniforms: ['transformation', 'opacity', 'radius', 'center', 'startAngle', 'endAngle', 'clockwize']\r\n    },\r\n    {\r\n        name: 'roundedrect',\r\n        vss: rrVSS,\r\n        fss: rrFSS,\r\n        attribParams: [\r\n            {name: 'position', size: positionSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: 0},\r\n            {name: 'color', size: colorSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: getFloatBytes(positionSize)}\r\n        ], uniforms: ['transformation', 'opacity', 'radius', 'position', 'width', 'height']\r\n    },\r\n    {\r\n        name: 'ellipse',\r\n        vss: ellipseVSS,\r\n        fss: ellipseFSS,\r\n        attribParams: [\r\n            {name: 'position', size: positionSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: 0},\r\n            {name: 'color', size: colorSize, type: 'FLOAT', stride: getFloatBytes(positionSize+colorSize), offset: getFloatBytes(positionSize)}\r\n        ], uniforms: ['transformation', 'opacity', 'center', 'width', 'height']\r\n    },\r\n];\r\n\r\nexport const drawModes = {\r\n    line: 'LINE_STRIP',\r\n    triangle: 'TRIANGLE_STRIP',\r\n    rectangle: 'TRIANGLES',\r\n    circle: 'TRIANGLES',\r\n    roundedrect: 'TRIANGLES',\r\n    ellipse: 'TRIANGLES',\r\n}\r\nexport const getDrawSize = {\r\n    line: (obj: Graphics) => {\r\n        return obj.geometryInfo.length;\r\n    },\r\n    triangle: () => {\r\n        return 3;\r\n    },\r\n    rectangle: () => {\r\n        return 6;\r\n    },\r\n    circle: () => {\r\n        return 6;\r\n    },\r\n    roundedrect: ()=>{\r\n        return 6;\r\n    },\r\n    ellipse: ()=>{\r\n        return 6\r\n    },\r\n}\r\n\r\nexport const getUniformUploadFunc = {\r\n    polygon: ()=>{},\r\n    circle: \r\n        (gl: WebGL2RenderingContext, uniforms: Object, geometry: any)=>{\r\n            gl.uniform1f(uniforms['radius'], geometry.radius);\r\n            gl.uniform2f(uniforms['center'], geometry.center.x, geometry.center.y);\r\n            gl.uniform1f(uniforms['startAngle'], geometry.startAngle/(Math.PI*2));\r\n            gl.uniform1f(uniforms['endAngle'], geometry.endAngle/(Math.PI*2));\r\n            gl.uniform1f(uniforms['clockwize'], geometry.clockWize);\r\n        },\r\n    \r\n    roundedrect: \r\n        (gl: WebGL2RenderingContext, uniforms: Object, geometry: any)=>{\r\n            gl.uniform1f(uniforms['radius'], geometry.radius);\r\n            gl.uniform2f(uniforms['position'], geometry.x, geometry.y);\r\n            gl.uniform1f(uniforms['width'], geometry.w);\r\n            gl.uniform1f(uniforms['height'], geometry.h);\r\n        },\r\n    ellipse: \r\n        (gl: WebGL2RenderingContext, uniforms: Object, geometry: any)=>{\r\n            gl.uniform2f(uniforms['center'], geometry.x, geometry.y);\r\n            gl.uniform1f(uniforms['width'], geometry.width);\r\n            gl.uniform1f(uniforms['height'], geometry.height);\r\n        },\r\n    \r\n};\r\nexport const getStrokeUniformOptions = {\r\n    polygon: ()=>{},\r\n    circle: \r\n        (gl: WebGL2RenderingContext, uniforms: Object, geometry: any, stroke: number, strokeWid: number)=>{\r\n            gl.uniform1f(uniforms['radius'], new Array(geometry.radius, geometry.radius+strokeWid)[stroke])\r\n        },\r\n    roundedrect: \r\n        (gl: WebGL2RenderingContext, uniforms: Object, geometry: any, stroke: number, strokeWid: number)=>{\r\n            gl.uniform1f(uniforms['radius'], new Array(geometry.radius, geometry.radius+strokeWid)[stroke]);\r\n            gl.uniform2f(uniforms['position'], \r\n                            new Array(geometry.x, geometry.x-strokeWid)[stroke],\r\n                            new Array(geometry.y, geometry.y-strokeWid)[stroke]);\r\n            gl.uniform1f(uniforms['width'], new Array(geometry.w, geometry.w + strokeWid*2)[stroke]);\r\n            gl.uniform1f(uniforms['height'], new Array(geometry.h, geometry.h + strokeWid*2)[stroke]);\r\n        },\r\n    ellipse: \r\n        (gl: WebGL2RenderingContext, uniforms: Object, geometry: any, stroke: number, strokeWid: number)=>{\r\n            gl.uniform1f(uniforms['width'], new Array(geometry.width, geometry.width + strokeWid*2)[stroke]);\r\n            gl.uniform1f(uniforms['height'], new Array(geometry.height, geometry.height + strokeWid*2)[stroke]);\r\n        }, \r\n};\r\n\r\nconst recIndices = [0, 1, 2, 1, 3, 2];\r\nexport const getIndices = {\r\n    line: (obj: Graphics): Array<number>=>{\r\n        const ary: number[] = [];\r\n        for(let i=0, len=obj.geometryInfo.length;i<len;i++){\r\n            ary.push(i);\r\n        }\r\n        return ary;\r\n    },\r\n    triangle: (): Array<number> => {\r\n        return [0, 1, 2];\r\n    },\r\n    rectangle: (): Array<number> => {\r\n        return recIndices;\r\n    },\r\n    circle: (): Array<number> => {\r\n        return recIndices;\r\n    },\r\n    roundedrect: (): Array<number> => {\r\n        return recIndices;\r\n    },\r\n    ellipse: (): Array<number> => {\r\n        return recIndices;\r\n    }\r\n}\r\n\r\n\r\nexport const COLOR_BYTES = 256;\r\n\r\nconst attribPrefix = 'a_';\r\nconst uniformPrefix = 'u_';\r\nexport {attribPrefix, uniformPrefix};","export default class Context{\r\n    static gl: WebGL2RenderingContext | undefined;\r\n    static checkGL(): WebGL2RenderingContext{\r\n        if(Context.gl){\r\n            return Context.gl;\r\n        } else {\r\n            throw new Error('There seems to be no canvas');\r\n        }\r\n    }\r\n}","export default class Resolution {\r\n    static x: number = 1;\r\n    static y: number = 1;\r\n}","import Texture from \"./texture\";\r\nexport default Texture;","\r\nimport Context from '../static/context';\r\nimport * as glutils from '../renderer/glutils';\r\n\r\nexport type TextureOriginalImage = ImageBitmap | HTMLCanvasElement | HTMLImageElement;\r\n\r\nexport enum SCALE_MODE{\r\n    LINEAR = 'LINEAR', \r\n    NEAREST = 'NEAREST'\r\n};\r\n\r\nimport { TwoDemensionParam } from '../display/abstract_display_object';\r\n\r\nexport default class Texture {\r\n    glTexture: WebGLTexture;\r\n    private _width: number = 0;\r\n    private _height: number = 0;\r\n    private _scale: TwoDemensionParam = new TwoDemensionParam();\r\n    scaleMode: SCALE_MODE = SCALE_MODE.NEAREST;\r\n    constructor(img: TextureOriginalImage | undefined, scaleMode: SCALE_MODE= SCALE_MODE.NEAREST){\r\n        this.scaleMode = scaleMode;\r\n\r\n        const gl = Context.checkGL();\r\n        const texture = glutils.createTexture(gl, scaleMode);\r\n\r\n        if(img){\r\n            this.glTexture =  glutils.uploadTexture(gl, texture, img);\r\n\r\n            this._width = img.width;\r\n            this._height = img.height;\r\n        } else {\r\n            this.glTexture = texture;\r\n        }\r\n        \r\n    }\r\n    set texture(img: TextureOriginalImage){\r\n        const gl = Context.checkGL();\r\n        this.glTexture = glutils.uploadTexture(gl, this.glTexture!, img);\r\n        this._width = img.width;\r\n        this._height = img.height;\r\n    }\r\n\r\n    get scale(): TwoDemensionParam{\r\n        return this._scale;\r\n    }\r\n\r\n    get width(): number{\r\n        return this._width;\r\n    }\r\n    get height(): number{\r\n        return this._height;\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}